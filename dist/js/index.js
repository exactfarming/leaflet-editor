!function(e){var t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=20)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={changed:"editor:polygon_changed",start_add_new_polygon:"editor:start_add_new_polygon",start_add_new_hole:"editor:start_add_new_hole",marker_group_clear:"editor:marker_group_clear",join_path:"editor:__join_path",hole_created:"editor:polygon:hole_created",polygon_created:"editor:polygon:created",polygon_selected:"editor:polygon:selected",delete_marker:"editor:delete_marker",delete_polygon:"editor:delete_polygon",map_cleared:"editor:map_cleared",last_marker_dblclick_mouseover:"editor:last_marker_dblclick_mouseover",hole_deleted:"editor:polygon:hole_deleted",polygon_deleted:"editor:polygon:deleted",first_marker_mouseover:"editor:first_marker_mouseover",selected_middle_marker_mouseover:"editor:selected_middle_marker_mouseover",selected_marker_mouseover:"editor:selected_marker_mouseover",not_selected_marker_mouseover:"editor:not_selected_marker_mouseover",marker_mouseout:"editor:marker_mouseout",drag_marker:"editor:drag_marker",dragend_marker:"editor:dragend_marker",marker_dragstart:"editor:marker_dragstart",edit_polygon_mousemove:"editor:edit_polygon_mousemove",edit_polygon_mouseover:"editor:edit_polygon_mouseover",edit_polygon_mouseout:"editor:edit_polygon_mouseout",delete_hole:"editor:delete_hole",before_add_marker:"editor:before_add_marker",add_marker:"editor:add_marker",add_hole_marker:"editor:add_hole_marker",marker_group_select:"editor:marker_group_select",view_polygon_mousemove:"editor:view_polygon_mousemove",view_polygon_mouseout:"editor:view_polygon_mouseout"}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middleSelectedIcon=t.middleIcon=t.dragIcon=t.icon=t.firstIcon=void 0;var r,i=o(3),n=(r=i)&&r.__esModule?r:{default:r};var s=1;navigator.userAgent.toLowerCase();n.default.isMobileBrowser()&&(s=2);t.firstIcon=L.divIcon({className:"m-editor-div-icon-first",iconSize:[10*s,10*s]}),t.icon=L.divIcon({className:"m-editor-div-icon",iconSize:[10*s,10*s]}),t.dragIcon=L.divIcon({className:"m-editor-div-icon-drag",iconSize:[10*s*3,10*s*3]}),t.middleIcon=L.divIcon({className:"m-editor-middle-div-icon",iconSize:[10*s,10*s]}),t.middleSelectedIcon=L.divIcon({className:"m-editor-middle-div-icon group-selected",iconSize:[10*s,10*s]})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(o(9)),i=s(o(0)),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(o(1));function s(e){return e&&e.__esModule?e:{default:e}}L.MarkerGroup=r.default.extend({_isHole:!1,_position:null,options:{mIcon:null,mHoverIcon:null},initialize:function(e){L.LayerGroup.prototype.initialize.call(this,e),this._markers=[]},onAdd:function(e){this._map=e},onRemove:function(){this._map.off("mousemove")},_updateDELine:function(e){var t=this.getDELine();return this._firstMarker&&t.update(e),t},getDELine:function(){return this._map.dashedEditLineGroup},hasMinimalMarkersLength:function(){return this.getLayers().filter(function(e){return e._icon.classList.contains("m-editor-div-icon")&&!e._icon.classList.contains("m-editor-middle-div-icon")}).length<=3},setSelected:function(e){var t=this._map;if(this.hasFirstMarker())return t.setSelectedMarker(this.getLast()),void(t._oldSelectedMarker=t._selectedMarker);t._oldSelectedMarker=t._selectedMarker,t.setSelectedMarker(e)},getFirst:function(){return this._firstMarker},getLast:function(){if(this.hasFirstMarker()){var e=this.getLayers();return e[e.length-1]}},hasFirstMarker:function(){return!(!this.getFirst()||!this.getFirst()._hasFirstIcon())},restore:function(e){var t,o=this;if(e._latlngs[0][0]instanceof L.LatLng){if(e._latlngs&&this.setAll(e._latlngs[0]),e._latlngs[1]){var r=(t=e._latlngs,Array.isArray(t)?t:Array.from(t)),i=(r[0],r.slice(1));this.setAllHoles(i)}}else e._latlngs[0][0][0]instanceof L.LatLng&&e._latlngs.forEach(function(e){o.restore({_latlngs:e})})},_add:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._map.isMode("draw")&&(this._firstMarker||(r.icon=n.firstIcon));var s=this.addMarker(e,t,r);return this.getDELine().addLatLng(e),this.getFirst()._hasFirstIcon()?this._map.on("mousemove",function(e){o._updateDELine(e.latlng)}):this.getDELine().clear(),s._mGroup.getLayers().length>2&&s._mGroup._firstMarker._hasFirstIcon()&&s===s._mGroup._lastMarker&&this._map.fire(i.default.last_marker_dblclick_mouseover,{marker:s}),s},setMiddleMarker:function(e){this.addMarker(e,null,{icon:n.middleSelectedIcon})},setMiddleMarkers:function(e){this.setMiddleMarker(e),this.setMiddleMarker(e+2)},set:function(e,t,o){return this._add(e,t,o)},setAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach(function(t,o){e.set(t,o)}),t.length>0&&this.getFirst().fire("click")},setAllHoles:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){var o=e._map.getEHMarkersGroup().addHoleGroup();t._each(function(e,t){o.set(e,t)}),o.getFirst().fire("click")})},_bindLineEvents:void 0});var a=L.MarkerGroup;t.default=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isMobileBrowser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator,t=e.userAgent||e.vendor||window.opera,o=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(o=!0),o}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={forceToDraw:!0,notifyClickMarkerDeletePolygon:!1,translations:{removePolygon:"remove polygon",removePoint:"remove point"},style:{view:{opacity:.5,fillOpacity:.2,dashArray:null,clickable:!1,fill:!0,stroke:!0,color:"#0aaec9",weight:3},draw:{opacity:.5,fillOpacity:.2,dashArray:"5, 10",clickable:!0,fill:!0,stroke:!0,color:"#00cd00",weight:3},startDraw:{},drawLine:{opacity:.7,fill:!1,fillColor:"#00cd00",color:"#00cd00",weight:3,dashArray:"5, 10",stroke:!0,clickable:!1}},markerIcon:void 0,markerHoverIcon:void 0,errorLineStyle:{color:"red",weight:3,opacity:1,smoothFactor:1},previewErrorLineStyle:{color:"red",weight:3,opacity:1,smoothFactor:1,dashArray:"5, 10"},text:{removePolygon:"Remove polygon",acceptDeletion:"Click again to remove polygon",clickToEdit:"click to edit",clickToAddNewEdges:"<div>click&nbsp;&nbsp;<div class='m-editor-middle-div-icon static group-selected'></div>&nbsp;&nbsp;to add new edges</div>",clickToDrawInnerEdges:"click to draw inner edges",clickToJoinEdges:"click to join edges",clickToRemoveAllSelectedEdges:"<div>click&nbsp;&nbsp;&nbsp;&nbsp;<div class='m-editor-div-icon static group-selected'></div>&nbsp;&nbsp;to remove edge&nbsp;&nbsp;or<br>click&nbsp;&nbsp;<i class='fa fa-trash'></i>&nbsp;&nbsp;to remove all selected edges</div>",clickToSelectEdges:"<div>click&nbsp;&nbsp;&nbsp;&nbsp;<div class='m-editor-div-icon static'></div>&nbsp;/&nbsp;<div class='m-editor-middle-div-icon static'></div>&nbsp;&nbsp;to select edges</div>",dblclickToJoinEdges:"double click to join edges",clickToStartDrawPolygonOnMap:"click to start draw polygon on map",deleteSelectedEdges:"deleted selected edges",rejectChanges:"reject changes",jsonWasLoaded:"JSON was loaded",checkJson:"check JSON",loadJson:"load GeoJSON",forgetToSave:"Save changes by pressing outside of polygon",zoom:"Zoom"},worldCopyJump:!0,geoJSONArea:null}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},i=h(o(6)),n=h(o(11)),s=h(o(4));o(13);var a=h(o(14)),l=h(o(15)),d=h(o(16)),c=h(o(2)),u=h(o(18)),_=h(o(19));function h(e){return e&&e.__esModule?e:{default:e}}var f=L.Map.extend({setLayers:function(){this.viewGroup=new a.default,this.editGroup=new l.default([]),this.editPolygon=new d.default,this.editMarkersGroup=new c.default([]),this.dashedEditLineGroup=new u.default,this.editHoleMarkersGroup=new _.default([]),this.viewGroup.addTo(this),this.editGroup.addTo(this),this.editPolygon.addTo(this),this.editMarkersGroup.addTo(this),this.dashedEditLineGroup.addTo(this),this.editHoleMarkersGroup.addTo(this)},removeLayers:function(){this.removeLayer(this.viewGroup),this.removeLayer(this.editGroup),this.removeLayer(this.editPolygon),this.removeLayer(this.editMarkersGroup),this.removeLayer(this.dashedEditLineGroup),this.removeLayer(this.editHoleMarkersGroup)},initialize:function(e,t){var o=this;this.viewGroup=null,this.editGroup=null,this.editPolygon=null,this.editMarkersGroup=null,this.dashedEditLineGroup=null,this.editHoleMarkersGroup=null,t.text&&(r(s.default.text,t.text),delete t.text);var i=t.controls;i&&!1===i.zoom&&(t.zoomControl=!1),t.style&&(t.style.draw&&r(s.default.style.draw,t.style.draw),t.style.view&&r(s.default.style.view,t.style.view),t.style.startDraw&&r(s.default.style.startDraw,t.style.startDraw),t.style.drawLine&&r(s.default.style.drawLine,t.style.drawLine),delete t.style),r(this.options,s.default,t),L.Map.prototype.initialize.call(this,e,t),this.whenReady(function(){o.setLayers()}),this.options.forceToDraw&&this.mode("draw"),this.on("unload",function(){o.removeControl(o.msgHelper),o.removeLayers()})},getVGroup:function(){return this.viewGroup},getEGroup:function(){return this.editGroup},getEPolygon:function(){return this.editPolygon},getEMarkersGroup:function(){return this.editMarkersGroup},getDELine:function(){return this.dashedEditLineGroup},getEHMarkersGroup:function(){return this.editHoleMarkersGroup},setSelectedMGroup:function(e){this._selectedMGroup=e},clearSelectedMGroup:function(){this._selectedMGroup=null},getSelectedMGroup:function(){var e=this._selectedMGroup;return e&&e._map?e:null},getCurrentGeoJSON:function(){var e=this,t=[];this.getVGroup().eachLayer(function(o){o!==e._getSelectedVLayer()&&t.push(o.toGeoJSON().geometry.coordinates)});var o=this.getEPolygon().toGeoJSON().geometry.coordinates;return o.length&&t.push(o),L.GeoJSON.getFeature(this,{type:"MultiPolygon",coordinates:t})}});f.include(i.default),f.addInitHook(n.default),t.default=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},i=l(o(7)),n=o(8),s=l(o(0)),a=l(o(2));function l(e){return e&&e.__esModule?e:{default:e}}t.default=r({hasSelectedVLayer:function(){return void 0!==this._getSelectedVLayer()},_selectedMarker:void 0,_selectedVLayer:void 0,_oldSelectedMarker:void 0,_modeType:"draw",_activeEditLayer:void 0,_errorTimeout:null,mode:function(e){this["__mode_"+e]?(this._setModeType(e),this._clearEvents(),e=this["__mode_"+e]()||e,this._setMode(e)):console.error('Mode "'+e+'" is not defined')},isMode:function(e){return e===this._modeType},__mode_draw:function(){this._bindDrawEvents()},clear:function(){this._clearEvents(),this._clearMap(),this.fire(s.default.map_cleared)},saveState:function(){return this.getEPolygon().isEmpty()||(this._getSelectedVLayer()?this._setEPolygon_To_VGroup():this._addEPolygon_To_VGroup()),this.clear(),this.mode("draw"),{type:"MultiPolygon",coordinates:this.getVGroup().toGeoJSON().features.reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(e),[t.geometry.coordinates])},[])}},geoJSONArea:function(e){var t=this.options.geoJSONArea||window.turf&&window.turf.area;return t||console.warn('Warning: Implement "geoJSONArea" function ( leaflet-editor )'),t?t(e):0},area:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).precLatLng,o=void 0===t?6:t,r=this.getVGroup(),i=this.getEPolygon(),s=this._getSelectedVLayer(),a=i.isEmpty()?0:this.geoJSONArea((0,n.precisionGeoJSON)(i.toGeoJSON(),o)),l=this.geoJSONArea((0,n.precisionGeoJSON)(r.toGeoJSON(),o)),d=s?this.geoJSONArea((0,n.precisionGeoJSON)(s.toGeoJSON(),o)):0;return this.hasSelectedVLayer()&&a>0&&(l-=d),e=a>0?l+a:l,(0,n.precision)(e,o)},getSelectedMarker:function(){return this._selectedMarker},clearSelectedMarker:function(){this._selectedMarker=null},setSelectedMarker:function(e){if(!e||!e._icon)throw new Error('Error in method "setSelectedMarker". Check marker instance');this._selectedMarker=e},removePolygon:function(e){this.getEMarkersGroup().clearLayers(),this.getEHMarkersGroup().clearLayers(),e.clear(),this.clearSelectedMarker(),this._setEPolygon_To_VGroup()},createEditPolygon:function(e){var t=this,o=L.geoJson(e);this._getSelectedVLayer()?this._setEPolygon_To_VGroup():this._addEPolygon_To_VGroup(),this.clear();var r=o.getLayers();return r.length>0&&r.forEach(function(e){var o=e.getLatLngs(),r=t.getVGroup();"MultiPolygon"===e.feature.geometry.type?o.forEach(function(e){r.addLayer(L.polygon(e,{className:"view-polygon"}))}):r.addLayer(L.polygon(o,{className:"view-polygon"}))}),this.mode("draw"),this._fitVBounds(),o},_getSelectedVLayer:function(){return this._selectedVLayer},_setSelectedVLayer:function(e){this._selectedVLayer=e},_clearSelectedVLayer:function(){this._selectedVLayer=void 0},_hideSelectedVLayer:function(e){e.bringToBack(),e&&(this._showSelectedVLayer(this._getSelectedVLayer()),this._setSelectedVLayer(e),e._path.style.visibility="hidden")},_showSelectedVLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._selectedVLayer;e&&(e._path.style.visibility="")},_addEPolygon_To_VGroup:function(){var e=this.getVGroup(),t=this.getEPolygon().getLatLngs();t&&t[0]&&t[0].length<=2||e.addLayer(L.polygon(t,{className:"view-polygon"}))},_setEPolygon_To_VGroup:function(){var e=this.getEPolygon(),t=this._getSelectedVLayer();t&&(t._latlngs=e.getLatLngs(),t.redraw())},_convertToEdit:function(e){if(e instanceof a.default){var t=this.getEPolygon(),o=e.getLayers(),r=(o=o.filter(function(e){return!e.isMiddle()})).map(function(e){return e.getLatLng()}),i=t.getHoles();return i&&(r=[r].concat(i)),t.setLatLngs(r),t.redraw(),t}},_setMode:function(e){var t=this.options;this.getEPolygon().setStyle(t.style[e])},_setModeType:function(e){try{this._container.classList.remove("map-"+this._modeType),this._container.classList.add("map-"+this._modeType),this._modeType=e}catch(e){console.error('Check "_setModeType"')}},_fitVBounds:function(){0!==this.getVGroup().getLayers().length&&this.fitBounds(this.getVGroup().getBounds(),{padding:[30,30]})},_clearMap:function(){this.getEGroup().clearLayers(),this.getEPolygon().clear(),this.getEMarkersGroup().clear();var e=this.getSelectedMGroup();e&&e.getDELine().clear(),this.getEHMarkersGroup().clear(),this._activeEditLayer=void 0,this._showSelectedVLayer(),this._clearSelectedVLayer(),this.clearSelectedMarker()},_clearEvents:function(){this._unBindDrawEvents()},_moveEPolygonOnTop:function(){var e=this.getEPolygon()._container;e&&e.parentElement.insertAdjacentElement("beforeend",e)},_getGeometry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.geometry?e.geometry:e.features&&e.features[0]?this._getGeometry(e.features[0]):{}}},i.default)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=o(1),n=o(0),s=(r=n)&&r.__esModule?r:{default:r};t.default={_bindDrawEvents:function(){var e=this;this._unBindDrawEvents(),this.on("click",function(t){if(!(t.originalEvent&&0===t.originalEvent.clientX&&0===t.originalEvent.clientY||t.target instanceof L.Marker)){var o=t.target.getEMarkersGroup();if(o.isEmpty()){e._addMarker(t),e.fire(s.default.start_add_new_polygon,t);var r=e.options.style.startDraw;return r&&e.getEPolygon().setStyle(r),e._clearSelectedVLayer(),e.setSelectedMGroup(o),!1}var n=o.getFirst();if(n&&n._hasFirstIcon())return t.target instanceof L.Marker||e._addMarker(t),!1;var a=e.getEHMarkersGroup(),l=a.getLastHole();if(n&&!n._hasFirstIcon()&&!(t.target.getEPolygon()._path!==t.originalEvent.target||l&&l.getFirst()&&l.getFirst()._hasFirstIcon())){e.clearSelectedMarker();var d=a.addHoleGroup();return d.set(t.latlng,null,{icon:i.firstIcon}),e.setSelectedMGroup(d),e.fire(s.default.start_add_new_hole),e.getEHMarkersGroup().resetSelection(),e.getEMarkersGroup().resetSelection(),!1}if(l&&!l.isEmpty()&&l.hasFirstMarker()){var c=a.getLastHole().set(t.latlng);return e.fire(s.default.add_hole_marker,{marker:c}),!1}e._getSelectedVLayer()?e._setEPolygon_To_VGroup():e._addEPolygon_To_VGroup(),e.clear(),e.fire(s.default.marker_group_clear),e.fire(s.default.changed,{json:e.saveState()}),e.mode("draw")}}),this.on(s.default.join_path,function(t){var o=t.mGroup;if(o){o._isHole&&e.getEHMarkersGroup().resetLastHole();var r=o.getLayers(),n=-1;r.forEach(function(){var e=o.addMarker(n,null,{icon:i.middleIcon});n=e.position+2}),o.getDELine().clear(),o.select(),e.getEPolygon().setStyle(e.options.style.draw),o._isHole?e.fire(s.default.hole_created):e.fire(s.default.polygon_created)}});var t=this.getVGroup();t.on("click",function(o){var r=e.getSelectedMGroup();r&&r.hasFirstMarker()||(t.onClick(o),e.msgHelper.msg(e.options.text.clickToDrawInnerEdges,null,o.layerPoint),e.fire(s.default.polygon_selected))}),this.on(s.default.delete_marker,function(){e._convertToEdit(e.getEMarkersGroup())}),this.on(s.default.delete_polygon,function(){e.getEHMarkersGroup().remove()})},_addMarker:function(e){var t=e.latlng,o=this.getEMarkersGroup(),r=o.set(t);return this._convertToEdit(o),this.fire(s.default.add_marker,{marker:r}),r},_unBindDrawEvents:function(){this.off("click"),this.getVGroup().off("click"),this.off("dblclick"),this.getDELine().clear(),this.off(s.default.join_path),this._openPopup&&delete this._openPopup}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},i=t.precision=function(e,t){var o=(""+e).split(".");if(t=t||0,!e||1===o.length)return e;var r=0;if(o[1].length>0){var i=o[1].length<t?o[1].length:t;r=e.toPrecision(o[0].length+i)}return Number(r)};t.precisionGeoJSON=function e(t){var o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==t)throw new Error("Please, make sure that first arguments is geoJSON");if(t.features&&t.features[0]&&(t.features=t.features.map(function(t){return e(t,n)},[])),(o=r({},t)).geometry){var s=o.geometry,a=s.type,l=s.coordinates;if(!Array.isArray(l))throw new Error("Please, make sure that geoJSON has correct structure");"Polygon"===a&&n>0&&l.forEach(function(e){e.forEach(function(e){e[0]=i(e[0],n),e[1]=i(e[1],n)})}),"MultiPolygon"===a&&n>0&&l.forEach(function(e){e.forEach(function(e){e.forEach(function(e){e[0]=i(e[0],n),e[1]=i(e[1],n)})})})}return o}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(o(10)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(o(1)),n=s(o(0));function s(e){return e&&e.__esModule?e:{default:e}}t.default=L.LayerGroup.extend({includes:L.Evented,_selected:!1,_lastMarker:void 0,_firstMarker:void 0,_positionHash:void 0,_lastPosition:0,_markers:[],onRemove:function(){this.clearLayers()},clearLayers:function(){var e=this;this._markers.forEach(function(t){e._map.removeLayer(t)}),this._markers=[]},addTo:function(e){e.addLayer(this)},addLayer:function(e){this._map.addLayer(e),this._markers.push(e),null!=e.position&&this._markers.move(this._markers.length-1,e.position),e.position=null!=e.position?e.position:this._markers.length-1},remove:function(){var e=this,t=this._map,o=this.getLayers();this.getDELine().clear(),o._each(function(t){for(;e.getLayers().length;)e.removeMarker(t)}),this._isHole?t.fire(n.default.hole_deleted):(t.getVGroup().removeLayer(t._getSelectedVLayer()),t.fire(n.default.polygon_deleted))},removeLayer:function(e){var t=e.position;this._map.removeLayer(e),this._markers.splice(t,1)},getLayers:function(){return this._markers},eachLayer:function(e){this._markers.forEach(e)},markerAt:function(e){var t=this._markers[e];return e<0?this.firstMarker():(void 0===t&&(t=this.lastMarker()),t)},firstMarker:function(){return this._markers[0]},lastMarker:function(){var e=this._markers;return e[e.length-1]},removeMarker:function(e){var t=!e.isMiddle(),o=e._prev,r=e._next,i=e._next._next;this.removeMarkerAt(e.position),this.removeMarkerAt(o.position),this.removeMarkerAt(r.position);var s=this._map;this.getLayers().length>0?(this.setMiddleMarker(i.position),t&&s.fire(n.default.delete_marker,{marker:e})):(this._isHole?(s.removeLayer(this),s.fire(n.default.delete_hole,{marker:e})):(s.fire(n.default.delete_polygon),s.removePolygon(s.getEPolygon())),s.fire(n.default.marker_group_clear))},removeMarkerAt:function(e){var t;if(0!==this.getLayers().length&&"number"==typeof e){t=this.markerAt(e);var o=!1,r=this._markers;if(r.forEach(function(e){o&&(e.position=0===e.position?0:e.position-1),e===t&&(t._prev._next=t._next,t._next._prev=t._prev,o=!0)}),this.removeLayer(t),r.length<5&&(this.clear(),!this._isHole)){var i=this._map;i.getEPolygon().clear(),i.getVGroup().removeLayer(i._getSelectedVLayer())}}},hasStartMarker:function(){return!!this.getLayers().some(function(e){return e._icon.classList.contains(i.firstIcon.options.className)})},addMarker:function(e,t,o){if("number"==typeof e){t=this.markerAt(e).position,this._recalcPositions(t);var i=t-1<0?this.lastMarker():this.markerAt(t-1),s=this.markerAt(-1==t?1:t);e=this._getMiddleLatLng(i,s)}var a=new r.default(this,e,o);return this._firstMarker||(this._firstMarker=a,this._lastMarker=a),void 0!==t&&(a.position=t),this.addLayer(a),a.position=void 0!==a.position?a.position:this._lastPosition++,a._prev=this._lastMarker,this._firstMarker._prev=a,a._prev&&(this._lastMarker._next=a,a._next=this._firstMarker),void 0===t&&(this._lastMarker=a),void 0!==t&&this._recalcRelations(a),a.isMiddle()||this._map.fire(n.default.before_add_marker,{marker:a}),a},clear:function(){var e=this,t=this._ids();this.clearLayers(),t.forEach(function(t){e._deleteEvents(t)}),this._lastPosition=0,this._firstMarker=void 0},_deleteEvents:function(e){delete this._map._leaflet_events.viewreset_idx[e],delete this._map._leaflet_events.zoomanim_idx[e]},_getMiddleLatLng:function(e,t){var o=this._map,r=o.project(e.getLatLng()),i=o.project(t.getLatLng());return o.unproject(r._add(i)._divideBy(2))},_recalcPositions:function(e){var t=this,o=this._markers,r=!1;o.forEach(function(o,i){e===i&&(r=!0),r&&(t._markers[i].position+=1)})},_recalcRelations:function(){var e=this,t=this._markers;t.forEach(function(o,r){o._prev=e.markerAt(r-1),o._next=e.markerAt(r+1),0===r&&(o._prev=e.lastMarker(),o._next=e.markerAt(1)),r===t.length-1&&(o._prev=e.markerAt(r-1),o._next=e.markerAt(0))})},_ids:function(){var e=[];for(var t in this._layers)e.push(t);return e.sort(function(e,t){return e-t}),e},select:function(){if(this.isEmpty())this._map&&this._map.clearSelectedMGroup();else{var e=this._map;this._isHole?(e.getEHMarkersGroup().resetSelection(),e.getEMarkersGroup().resetSelection(),e.getEHMarkersGroup().setLastHole(this)):(e.getEHMarkersGroup().resetSelection(),e.getEHMarkersGroup().resetLastHole()),this.getLayers()._each(function(e){e.enableDrag(),e.selectIconInGroup()}),this._selected=!0,this._map.setSelectedMGroup(this),this._map.fire(n.default.marker_group_select)}},isSelected:function(){return this._selected},isEmpty:function(){return 0===this.getLayers().length},resetSelection:function(){this.getLayers()._each(function(e){e.disableDrag(),e.unSelectIconInGroup()}),this._selected=!1}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n=o(1),s=o(0),a=(r=s)&&r.__esModule?r:{default:r};var l=navigator.userAgent.toLowerCase();-1===l.indexOf("ipad")&&l.indexOf("iphone"),t.default=L.Marker.extend({_draggable:void 0,_oldLatLngState:void 0,initialize:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o=i({icon:n.icon,draggable:!1},o),L.Marker.prototype.initialize.call(this,t,o),this._mGroup=e,this._isFirst=0===e.getLayers().length},enableDrag:function(){this.dragging.enable()},disableDrag:function(){this.dragging.disable()},group:function(){return this._mGroup},next:function(){var e=this._next._next;return this._next.isMiddle()||(e=this._next),e},prev:function(){var e=this._prev._prev;return this._prev.isMiddle()||(e=this._prev),e},changePrevNextPos:function(){if(this._prev.isMiddle()){var e=this.group()._getMiddleLatLng(this.prev(),this),t=this.group()._getMiddleLatLng(this,this.next());this._prev.setLatLng(e),this._next.setLatLng(t)}},_resetIcon:function(e){if(!this._hasFirstIcon()){var t=e||n.icon;this.setIcon(t),this.prev().setIcon(t),this.next().setIcon(t)}},_addIconClass:function(e){L.DomUtil.addClass(this._icon,e)},_removeIconClass:function(e){L.DomUtil.removeClass(this._icon,e)},_hasFirstIcon:function(){return this._icon&&L.DomUtil.hasClass(this._icon,"m-editor-div-icon-first")},isMiddle:function(){return this._icon&&L.DomUtil.hasClass(this._icon,"m-editor-middle-div-icon")&&!L.DomUtil.hasClass(this._icon,"leaflet-drag-target")},_setDragIcon:function(){this._removeIconClass("m-editor-div-icon"),this._removeIconClass("m-editor-middle-div-icon"),this._addIconClass("m-editor-div-icon-drag"),this.update()},isPlain:function(){return L.DomUtil.hasClass(this._icon,"m-editor-div-icon")},_onceClick:function(){var e=this;this._isFirst&&this.once("click",function(t){if(e._hasFirstIcon()){var o=e._map,r=e.group();r._markers.length<3?e._onceClick():(e._isFirst=!1,e.setIcon(n.icon),o.fire(a.default.join_path,{mGroup:r}))}})},isAcceptedToDelete:function(){return this._map.options.notifyClickMarkerDeletePolygon&&!this.isMiddle()&&this.isSelectedInGroup()&&this._map.getSelectedMarker()===this&&this.group().hasMinimalMarkersLength()},needAcceptToDelete:function(){return this._map.options.notifyClickMarkerDeletePolygon&&!this.isMiddle()&&this.isSelectedInGroup()&&this._map.getSelectedMarker()!==this&&this.group().hasMinimalMarkersLength()},_disallowToExecuteEvent:function(){var e=this._map,t=void 0;return e&&(t=e.getSelectedMGroup()),t&&t.hasFirstMarker()&&t!==this.group()},_bindEvents:function(){var e=this;this.on("dragstart",function(t){e._setDragIcon(),e.group().setSelected(e),e._oldLatLngState=t.target._latlng,e._prev.isPlain()&&e.group().setMiddleMarkers(e.position),e._map.fire(a.default.marker_dragstart),e.__dragging=!0}),this.on("click",function(){var t=e.group(),o=e._map;if(!e._disallowToExecuteEvent()){if(e.needAcceptToDelete())return t.setSelected(e),void o.msgHelper.msg(o.options.text.acceptDeletion,"error",e);if(!(t.hasFirstMarker()&&e!==t.getFirst()||e._hasFirstIcon()||(t.setSelected(e),e._hasFirstIcon()||t.getFirst()._hasFirstIcon())))return e.isSelectedInGroup()?void(e.isMiddle()?(t.setMiddleMarkers(e.position),e._resetIcon(n.icon),t.select(),o.msgHelper.msg(o.options.text.clickToRemoveAllSelectedEdges,null,e),o.clearSelectedMarker()):t.getFirst()._hasFirstIcon()||(o.msgHelper.hide(),t.removeMarker(e),t.isEmpty()&&(t._isHole?o.fire(a.default.hole_deleted):o.fire(a.default.polygon_deleted),o.msgHelper.hide()),t.select())):(t.select(),e.isMiddle()?o.msgHelper.msg(o.options.text.clickToAddNewEdges,null,e):o.msgHelper.msg(o.options.text.clickToRemoveAllSelectedEdges,null,e),void(e.isAcceptedToDelete()&&o.msgHelper.msg(o.options.text.acceptDeletion,"error",e)))}}),this.on("mousedown",function(){if(!e.dragging._enabled)return!1}),this.on("mouseover",function(t){t.originalEvent.stopPropagation();var o=e._map.getSelectedMarker(),r=!(!o||!o.__dragging);if(!e._disallowToExecuteEvent()&&!r){var i=e._map;e.group().getFirst()._hasFirstIcon()?e.group().getLayers().length>2&&(e._hasFirstIcon()?i.fire(a.default.first_marker_mouseover,{marker:e}):e===e.group()._lastMarker&&i.fire(a.default.last_marker_dblclick_mouseover,{marker:e})):e.isSelectedInGroup()?e.isMiddle()?i.fire(a.default.selected_middle_marker_mouseover,{marker:e}):i.fire(a.default.selected_marker_mouseover,{marker:e}):i.fire(a.default.not_selected_marker_mouseover,{marker:e}),e.isAcceptedToDelete()&&i.msgHelper.msg(i.options.text.acceptDeletion,"error",e)}}),this.on("mouseout",function(t){t.originalEvent.stopPropagation();var o=e._map.getSelectedMarker(),r=!(!o||!o.__dragging);e._disallowToExecuteEvent()||r||e._map.fire(a.default.marker_mouseout)}),this._onceClick(),this.on("dblclick",function(){if(!e._disallowToExecuteEvent()){var t=e.group();t&&t.getFirst()&&t.getFirst()._hasFirstIcon()&&e===t._lastMarker&&t.getFirst().fire("click")}}),this.on("drag",function(t){e._onDrag(t)}),this.on("dragend",function(t){e._onDragEnd(t)})},onAdd:function(e){L.Marker.prototype.onAdd.call(this,e),this._bindEvents(e)},_onDrag:function(e){e.target.changePrevNextPos();var t=this._map;t._convertToEdit(t.getEMarkersGroup()),this._setDragIcon(),t.fire(a.default.drag_marker,{marker:this})},_onDragEnd:function(){var e=this;setTimeout(function(){e.group().select(),e._map.fire(a.default.dragend_marker,{marker:e}),e._map.fire(a.default.selected_marker_mouseover,{marker:e}),e.resetStyle()},1)},resetIcon:function(){this._removeIconClass("m-editor-div-icon-drag")},unSelectIconInGroup:function(){this._removeIconClass("group-selected")},_selectIconInGroup:function(){this.isMiddle()||this._addIconClass("m-editor-div-icon"),this._addIconClass("group-selected")},selectIconInGroup:function(){this._prev&&this._prev._selectIconInGroup(),this._selectIconInGroup(),this._next&&this._next._selectIconInGroup()},isSelectedInGroup:function(){return L.DomUtil.hasClass(this._icon,"group-selected")},onRemove:function(e){this.off("mouseout"),L.Marker.prototype.onRemove.call(this,e)},resetStyle:function(){this.resetIcon(),this.selectIconInGroup()}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.touchZoom.disable(),this.doubleClickZoom.disable(),this.boxZoom.disable(),this.keyboard.disable();var t=this.msgHelper=new r.default({defaultMsg:this.options.text.clickToStartDrawPolygonOnMap});this.on("msgHelperAdded",function(){var o=e.options.text;e.on(n.default.marker_group_select,function(){e.off(n.default.not_selected_marker_mouseover),e.on(n.default.not_selected_marker_mouseover,function(e){t.msg(o.clickToSelectEdges,null,e.marker)}),e.off(n.default.selected_marker_mouseover),e.on(n.default.selected_marker_mouseover,function(e){t.msg(o.clickToRemoveAllSelectedEdges,null,e.marker)}),e.off(n.default.selected_middle_marker_mouseover),e.on(n.default.selected_middle_marker_mouseover,function(e){t.msg(o.clickToAddNewEdges,null,e.marker)}),e.off(n.default.edit_polygon_mousemove),e.on(n.default.edit_polygon_mousemove,function(e){t.msg(o.clickToDrawInnerEdges,null,e.layerPoint)}),e.off(n.default.edit_polygon_mouseout),e.on(n.default.edit_polygon_mouseout,function(){t.hide()}),e.off(n.default.view_polygon_mousemove),e.on(n.default.view_polygon_mousemove,function(r){var i;(i=e.getSelectedMGroup())&&i.hasFirstMarker()?t.hide():t.msg(o.clickToEdit,null,r.layerPoint)}),e.off(n.default.view_polygon_mouseout),e.on(n.default.view_polygon_mouseout,function(){t.hide()})}),e.off(n.default.marker_mouseout),e.on(n.default.marker_mouseout,function(){t.hide()}),e.on(n.default.marker_dragstart,function(){t.hide()}),e.off(n.default.first_marker_mouseover),e.on(n.default.first_marker_mouseover,function(e){t.msg(o.clickToJoinEdges,null,e.marker)}),e.off(n.default.last_marker_dblclick_mouseover),e.on(n.default.last_marker_dblclick_mouseover,function(e){t.msg(o.dblclickToJoinEdges,null,e.marker)}),e.on(n.default.join_path,function(o){o.marker&&t.msg(e.options.text.clickToRemoveAllSelectedEdges,null,o.marker)})}),i.default.isMobileBrowser()||this.addControl(t)};var r=s(o(12)),i=s(o(3)),n=s(o(0));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=L.Control.extend({options:{position:"msgcenter",defaultMsg:null},_onResizeEvent:null,_titleContainer:null,initialize:function(e){L.Util.setOptions(this,e)},onAdd:function(e){var t=L.DomUtil.create("div","leaflet-bottom"),o=L.DomUtil.create("div","leaflet-msg-editor");return e._controlCorners.msgcenter=t,e._controlContainer.appendChild(t),this._setContainer(o,e),e.fire("msgHelperAdded",{control:this}),this._changePos(),this._bindEvents(e),o},onRemove:function(){this._unBindEvents(),document.querySelectorAll(".leaflet-msg-container").forEach(function(e){document.body.removeChild(e)})},_changePos:function(){if(this._map){var e=this._map._controlCorners.msgcenter;if(e&&e.children.length){var t=e.children[0].children[0];if(!t)return;var o=t.clientWidth;o&&(e.style.left=(this._map._container.clientWidth-o)/2+"px")}}else this._unBindEvents()},_unBindEvents:function(){window.removeEventListener("resize",this._onResizeEvent)},_bindEvents:function(){this._onResizeEvent=this._changePos.bind(this),window.addEventListener("resize",this._onResizeEvent)},_setContainer:function(e){this._titleContainer=L.DomUtil.create("div","leaflet-msg-container title-hidden"),this._titlePosContainer=L.DomUtil.create("div","leaflet-msg-container title-hidden"),e.appendChild(this._titleContainer),document.body.appendChild(this._titlePosContainer),null!==this.options.defaultMsg&&(L.DomUtil.removeClass(this._titleContainer,"title-hidden"),this._titleContainer.innerHTML=this.options.defaultMsg)},getOffset:function(e){var t=0,o=0;if(!this._map.isFullscreen||!this._map.isFullscreen())for(;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft,o+=e.offsetTop,e=e.offsetParent;return{y:o,x:t}},msg:function(e,t,o){if(e&&this._titlePosContainer)if(o){var r;L.DomUtil.removeClass(this._titlePosContainer,"title-hidden"),L.DomUtil.removeClass(this._titlePosContainer,"title-error"),L.DomUtil.removeClass(this._titlePosContainer,"title-success"),this._titlePosContainer.innerHTML=e;var i=this.getOffset(this._map._container);o instanceof L.Point?(r=o,r=this._map.layerPointToContainerPoint(r)):r=this._map.latLngToContainerPoint(o.getLatLng()),r.x+=i.x,r.y+=i.y,this._titlePosContainer.style.top=r.y-8+"px",this._titlePosContainer.style.left=r.x+10+"px",t&&L.DomUtil.addClass(this._titlePosContainer,"title-"+t)}else L.DomUtil.removeClass(this._titleContainer,"title-hidden"),L.DomUtil.removeClass(this._titleContainer,"title-error"),L.DomUtil.removeClass(this._titleContainer,"title-success"),this._titleContainer.innerHTML=e,t&&L.DomUtil.addClass(this._titleContainer,"title-"+t),this._changePos()},hide:function(){this._titleContainer&&L.DomUtil.addClass(this._titleContainer,"title-hidden"),this._titlePosContainer&&L.DomUtil.addClass(this._titlePosContainer,"title-hidden")},getBtnContainer:function(){return this._map._controlCorners.msgcenter},getBtnAt:function(e){return this.getBtnContainer().child[e]},disableBtn:function(e){L.DomUtil.addClass(this.getBtnAt(e),"disabled")},enableBtn:function(e){L.DomUtil.removeClass(this.getBtnAt(e),"disabled")}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Array.prototype.move=function(e,t){this.splice(t,0,this.splice(e,1)[0])},Array.prototype._each=function(e){for(var t=this.length,o=0;o<t;o++)e.call(this,this[o],o)},t.default=Array},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n=o(0),s=(r=n)&&r.__esModule?r:{default:r};t.default=L.FeatureGroup.extend({initialize:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L.FeatureGroup.prototype.initialize.call(this,e,o),this.on("layeradd",function(e){var o=t._map.options.style.view;e.target.setStyle(i({opacity:.7,fillOpacity:.35,color:"#00ABFF"},o)),t._map._moveEPolygonOnTop()})},isEmpty:function(){return 0===this.getLayers().length},onAdd:function(e){L.FeatureGroup.prototype.onAdd.call(this,e),this.on("mousemove",function(t){e.fire(s.default.view_polygon_mousemove,{layerPoint:t.layerPoint})}),this.on("mouseout",function(){e.fire(s.default.view_polygon_mouseout)})},onClick:function(e){L.DomEvent.stopPropagation(e);var t=this._map,o=t.getSelectedMGroup(),r=t.getEMarkersGroup();if(o&&o.getFirst()&&o.getFirst()._hasFirstIcon()&&!o.isEmpty()){var i=t.getEMarkersGroup();i.set(e.latlng),t._convertToEdit(i)}else t._getSelectedVLayer()?t._setEPolygon_To_VGroup():t._addEPolygon_To_VGroup(),t.clear(),t.mode("draw"),t._hideSelectedVLayer(e.layer),r.restore(e.layer),t._convertToEdit(r),r.select()},onRemove:function(e){this.off("mouseover"),this.off("mouseout"),e.off(s.default.view_polygon_mousemove),e.off(s.default.view_polygon_mouseout)}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=L.FeatureGroup.extend({})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(o(17)),i=n(o(0));function n(e){return e&&e.__esModule?e:{default:e}}t.default=L.EditPloygon=r.default.extend({_oldE:void 0,_k:1,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0]],t=arguments[1];L.Polygon.prototype.initialize.call(this,e,t),this.options.className="leaflet-clickable editable-polygon"},_updateMarker:function(e){var t=e.marker;if(t._mGroup._isHole){var o=t._mGroup._markers;o=o.filter(function(e){return!e.isMiddle()}),this._latlngs[t._mGroup.position+1]=o.map(function(e){return e.getLatLng()})}this.redraw()},_removeHole:function(e){var t=e.marker._mGroup.position;this._latlngs.splice(t+1,1);var o=this._map.getEHMarkersGroup();o.removeLayer(e.marker._mGroup._leaflet_id),o.repos(e.marker._mGroup.position),this.redraw()},onAdd:function(e){var t=this;L.Polyline.prototype.onAdd.call(this,e),e.off(i.default.before_add_marker),e.on(i.default.before_add_marker,function(e){return t._updateMarker(e)}),e.off(i.default.drag_marker),e.on(i.default.drag_marker,function(e){return t._updateMarker(e)}),e.off(i.default.delete_marker),e.on(i.default.delete_marker,function(e){return t._updateMarker(e)}),e.off(i.default.delete_hole),e.on(i.default.delete_hole,function(e){return t._removeHole(e)}),this.on("mousemove",function(t){e.fire(i.default.edit_polygon_mousemove,{layerPoint:t.layerPoint})}),this.on("mouseout",function(){return e.fire(i.default.edit_polygon_mouseout)})},onRemove:function(e){this.off("mousemove"),this.off("mouseout"),e.off(i.default.edit_polygon_mouseover),e.off(i.default.edit_polygon_mouseout),L.Polyline.prototype.onRemove.call(this,e)},addHole:function(e){this._latlngs.push(e),this.redraw()},hasHoles:function(){return this._latlngs.length>1}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=L.Polygon.extend({isEmpty:function(){var e=this.getLatLngs();return null==e||e&&0===e.length||"LatLng(0, 0),LatLng(0, 0)"===e.toString()||"LatLng(0, 0)"===e.toString()},_isHiddenData:!0,setLatLngs:function(e){this._isHiddenData&&(this._isHiddenData=!0),L.Polygon.prototype.setLatLngs.call(this,e)},addLatLng:function(e){this._isHiddenData&&(this._isHiddenData=!0),L.Polygon.prototype.addLatLng.call(this,e)},getHoles:function(){var e,t=this.getLatLngs(),o=(e=t,Array.isArray(e)?e:Array.from(e));o[0];return o.slice(1)},clearHoles:function(){this._latlngs=this._latlngs[0]?[this._latlngs[0]]:[],this.redraw()},clear:function(){this.clearHoles(),Array.isArray(this._latlngs)&&void 0!==this._latlngs[0]&&(this._isHiddenData=!0,this.setLatLngs([[0,0],[0,0]]))}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},n=o(4),s=(r=n)&&r.__esModule?r:{default:r};var a=i(s.default.style.drawLine,{className:"dash-line"});t.default=L.Polyline.extend({options:i(s.default.style.drawLine,{className:"dash-line"}),_latlngToMove:void 0,_isHiddenLine:!0,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0]],t=arguments[1];return"0,0"===e.toString()&&(this._isHiddenLine=!0,this.setStyle({opacity:0})),L.Polyline.prototype.initialize.call(this,e,t),this},addLatLng:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return this._isHiddenLine&&(this._isHiddenLine=!1,this.setLatLngs([e])),this.setStyle(t),this._latlngToMove&&(this._latlngToMove=void 0),this._latlngs.length>1&&this._latlngs.splice(-1),this._latlngs.push(L.latLng(e)),this.redraw()},update:function(e){return!this._latlngToMove&&this._latlngs.length&&(this._latlngToMove=L.latLng(e),this._latlngs.push(this._latlngToMove)),this._latlngToMove&&(this._latlngToMove.lat=e.lat,this._latlngToMove.lng=e.lng,this.redraw()),this},_addLine:function(e,t,o){o||e.addTo(t)},clear:function(){this.setLatLngs([])}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=o(2),n=(r=i)&&r.__esModule?r:{default:r};t.default=L.FeatureGroup.extend({_selected:!1,_lastHole:void 0,_lastHoleToDraw:void 0,addHoleGroup:function(){return this._lastHole=new n.default,this._lastHole._isHole=!0,this._lastHole.addTo(this),this._lastHole.position=this.getLength()-1,this._lastHoleToDraw=this._lastHole,this._lastHole},getLength:function(){return this.getLayers().length},resetLastHole:function(){this._lastHole=void 0},setLastHole:function(e){this._lastHole=e},getLastHole:function(){return this._lastHole},remove:function(){this.eachLayer(function(e){for(;e.getLayers().length;)e.removeMarkerAt(0)})},repos:function(e){this.eachLayer(function(t){t.position>=e&&(t.position-=1)})},resetSelection:function(){this.eachLayer(function(e){e.resetSelection()}),this._selected=!1},clear:function(){var e=this;this.eachLayer(function(t){t._markers&&t.clear(),e.removeLayer(t)})}})},function(e,t,o){"use strict";var r,i=o(5),n=(r=i)&&r.__esModule?r:{default:r};window.LeafletEditor=n.default}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V2ZW50LW5hbWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tYXJrZXItaWNvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVzL2VkaXQvbWFya2VyLWdyb3VwLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9tb2JpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL29wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZXMvZHJhdy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxzL3ByZWNpc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXh0ZW5kZWQvQmFzZU1hcmtlckdyb3VwLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9tb2Rlcy9lZGl0L21hcmtlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvaG9va3MvY29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V4dGVuZGVkL01zZ0hlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3ZpZXcvZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVzL2RyYXcvZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21vZGVzL2VkaXQvcG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvZXh0ZW5kZWQvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZXMvZHJhdy9kYXNoZWQtbGluZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZXMvZWRpdC9ob2xlc0dyb3VwLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNoYW5nZWQiLCJzdGFydF9hZGRfbmV3X3BvbHlnb24iLCJzdGFydF9hZGRfbmV3X2hvbGUiLCJtYXJrZXJfZ3JvdXBfY2xlYXIiLCJqb2luX3BhdGgiLCJob2xlX2NyZWF0ZWQiLCJwb2x5Z29uX2NyZWF0ZWQiLCJwb2x5Z29uX3NlbGVjdGVkIiwiZGVsZXRlX21hcmtlciIsImRlbGV0ZV9wb2x5Z29uIiwibWFwX2NsZWFyZWQiLCJsYXN0X21hcmtlcl9kYmxjbGlja19tb3VzZW92ZXIiLCJob2xlX2RlbGV0ZWQiLCJwb2x5Z29uX2RlbGV0ZWQiLCJmaXJzdF9tYXJrZXJfbW91c2VvdmVyIiwic2VsZWN0ZWRfbWlkZGxlX21hcmtlcl9tb3VzZW92ZXIiLCJzZWxlY3RlZF9tYXJrZXJfbW91c2VvdmVyIiwibm90X3NlbGVjdGVkX21hcmtlcl9tb3VzZW92ZXIiLCJtYXJrZXJfbW91c2VvdXQiLCJkcmFnX21hcmtlciIsImRyYWdlbmRfbWFya2VyIiwibWFya2VyX2RyYWdzdGFydCIsImVkaXRfcG9seWdvbl9tb3VzZW1vdmUiLCJlZGl0X3BvbHlnb25fbW91c2VvdmVyIiwiZWRpdF9wb2x5Z29uX21vdXNlb3V0IiwiZGVsZXRlX2hvbGUiLCJiZWZvcmVfYWRkX21hcmtlciIsImFkZF9tYXJrZXIiLCJhZGRfaG9sZV9tYXJrZXIiLCJtYXJrZXJfZ3JvdXBfc2VsZWN0Iiwidmlld19wb2x5Z29uX21vdXNlbW92ZSIsInZpZXdfcG9seWdvbl9tb3VzZW91dCIsIl9tb2JpbGUiLCJzaXplIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpc01vYmlsZUJyb3dzZXIiLCJmaXJzdEljb24iLCJMIiwiZGl2SWNvbiIsImNsYXNzTmFtZSIsImljb25TaXplIiwiaWNvbiIsImRyYWdJY29uIiwibWlkZGxlSWNvbiIsIm1pZGRsZVNlbGVjdGVkSWNvbiIsImljb25zIiwiTWFya2VyR3JvdXAiLCJCYXNlTUdyb3VwIiwiZXh0ZW5kIiwiX2lzSG9sZSIsIl9wb3NpdGlvbiIsIm9wdGlvbnMiLCJtSWNvbiIsIm1Ib3Zlckljb24iLCJpbml0aWFsaXplIiwibGF5ZXJzIiwiTGF5ZXJHcm91cCIsInRoaXMiLCJfbWFya2VycyIsIm9uQWRkIiwibWFwIiwiX21hcCIsIm9uUmVtb3ZlIiwib2ZmIiwiX3VwZGF0ZURFTGluZSIsImxhdGxuZyIsImRlTGluZSIsImdldERFTGluZSIsIl9maXJzdE1hcmtlciIsInVwZGF0ZSIsImRhc2hlZEVkaXRMaW5lR3JvdXAiLCJoYXNNaW5pbWFsTWFya2Vyc0xlbmd0aCIsImdldExheWVycyIsImZpbHRlciIsIml0ZW0iLCJfaWNvbiIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwibGVuZ3RoIiwic2V0U2VsZWN0ZWQiLCJtYXJrZXIiLCJoYXNGaXJzdE1hcmtlciIsInNldFNlbGVjdGVkTWFya2VyIiwiZ2V0TGFzdCIsIl9vbGRTZWxlY3RlZE1hcmtlciIsIl9zZWxlY3RlZE1hcmtlciIsImdldEZpcnN0IiwiX2hhc0ZpcnN0SWNvbiIsInJlc3RvcmUiLCJsYXllciIsIl90aGlzIiwiX2xhdGxuZ3MiLCJMYXRMbmciLCJzZXRBbGwiLCJfbGF5ZXIkX2xhdGxuZ3MiLCJfaG9sZXMiLCJzbGljZSIsInNldEFsbEhvbGVzIiwiZm9yRWFjaCIsImxsIiwiX2FkZCIsInBvc2l0aW9uIiwiX3RoaXMyIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiaXNNb2RlIiwiYWRkTWFya2VyIiwiYWRkTGF0TG5nIiwib24iLCJlIiwiY2xlYXIiLCJfbUdyb3VwIiwiX2xhc3RNYXJrZXIiLCJmaXJlIiwiRVZFTlRTIiwic2V0TWlkZGxlTWFya2VyIiwic2V0TWlkZGxlTWFya2VycyIsInNldCIsIl90aGlzMyIsImxhdGxuZ3MiLCJfdGhpczQiLCJob2xlIiwibGFzdEhHcm91cCIsImdldEVITWFya2Vyc0dyb3VwIiwiYWRkSG9sZUdyb3VwIiwiX2VhY2giLCJfYmluZExpbmVFdmVudHMiLCJ3aW5kb3ciLCJhIiwidmVuZG9yIiwib3BlcmEiLCJjaGVjayIsInRlc3QiLCJzdWJzdHIiLCJmb3JjZVRvRHJhdyIsIm5vdGlmeUNsaWNrTWFya2VyRGVsZXRlUG9seWdvbiIsInRyYW5zbGF0aW9ucyIsInJlbW92ZVBvbHlnb24iLCJyZW1vdmVQb2ludCIsInN0eWxlIiwidmlldyIsIm9wYWNpdHkiLCJmaWxsT3BhY2l0eSIsImRhc2hBcnJheSIsImNsaWNrYWJsZSIsImZpbGwiLCJzdHJva2UiLCJjb2xvciIsIndlaWdodCIsImRyYXciLCJzdGFydERyYXciLCJkcmF3TGluZSIsImZpbGxDb2xvciIsIm1hcmtlckljb24iLCJtYXJrZXJIb3Zlckljb24iLCJlcnJvckxpbmVTdHlsZSIsInNtb290aEZhY3RvciIsInByZXZpZXdFcnJvckxpbmVTdHlsZSIsInRleHQiLCJhY2NlcHREZWxldGlvbiIsImNsaWNrVG9FZGl0IiwiY2xpY2tUb0FkZE5ld0VkZ2VzIiwiY2xpY2tUb0RyYXdJbm5lckVkZ2VzIiwiY2xpY2tUb0pvaW5FZGdlcyIsImNsaWNrVG9SZW1vdmVBbGxTZWxlY3RlZEVkZ2VzIiwiY2xpY2tUb1NlbGVjdEVkZ2VzIiwiZGJsY2xpY2tUb0pvaW5FZGdlcyIsImNsaWNrVG9TdGFydERyYXdQb2x5Z29uT25NYXAiLCJkZWxldGVTZWxlY3RlZEVkZ2VzIiwicmVqZWN0Q2hhbmdlcyIsImpzb25XYXNMb2FkZWQiLCJjaGVja0pzb24iLCJsb2FkSnNvbiIsImZvcmdldFRvU2F2ZSIsInpvb20iLCJ3b3JsZENvcHlKdW1wIiwiZ2VvSlNPTkFyZWEiLCJNYXAiLCJzZXRMYXllcnMiLCJ2aWV3R3JvdXAiLCJWaWV3R3JvdXAiLCJlZGl0R3JvdXAiLCJEcmF3R3JvdXAiLCJlZGl0UG9seWdvbiIsIkVkaXRQb2x5Z29uIiwiZWRpdE1hcmtlcnNHcm91cCIsIkRhc2hlZEVkaXRMaW5lR3JvdXAiLCJlZGl0SG9sZU1hcmtlcnNHcm91cCIsIkhvbGVzR3JvdXAiLCJhZGRUbyIsInJlbW92ZUxheWVycyIsInJlbW92ZUxheWVyIiwiaWQiLCJfZXh0ZW5kcyIsIm9wdHMiLCJjb250cm9scyIsInpvb21Db250cm9sIiwid2hlblJlYWR5IiwicmVtb3ZlQ29udHJvbCIsIm1zZ0hlbHBlciIsImdldFZHcm91cCIsImdldEVHcm91cCIsImdldEVQb2x5Z29uIiwiZ2V0RU1hcmtlcnNHcm91cCIsInNldFNlbGVjdGVkTUdyb3VwIiwiZ3JvdXAiLCJfc2VsZWN0ZWRNR3JvdXAiLCJjbGVhclNlbGVjdGVkTUdyb3VwIiwiZ2V0U2VsZWN0ZWRNR3JvdXAiLCJzZWxlY3RlZE1Hcm91cCIsImdldEN1cnJlbnRHZW9KU09OIiwiY29vcmRzIiwiZWFjaExheWVyIiwiX2dldFNlbGVjdGVkVkxheWVyIiwicHVzaCIsInRvR2VvSlNPTiIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJlQ29vcmRpbmF0ZXMiLCJHZW9KU09OIiwiZ2V0RmVhdHVyZSIsInR5cGUiLCJpbmNsdWRlIiwiQmFzZU1hcCIsImFkZEluaXRIb29rIiwiQ29udHJvbHNIb29rIiwiX3ByZWNpc2lvbiIsImhhc1NlbGVjdGVkVkxheWVyIiwiX3NlbGVjdGVkVkxheWVyIiwiX21vZGVUeXBlIiwiX2FjdGl2ZUVkaXRMYXllciIsIl9lcnJvclRpbWVvdXQiLCJfc2V0TW9kZVR5cGUiLCJfY2xlYXJFdmVudHMiLCJfc2V0TW9kZSIsImNvbnNvbGUiLCJlcnJvciIsIl9fbW9kZV9kcmF3IiwiX2JpbmREcmF3RXZlbnRzIiwiX2NsZWFyTWFwIiwic2F2ZVN0YXRlIiwiaXNFbXB0eSIsIl9zZXRFUG9seWdvbl9Ub19WR3JvdXAiLCJfYWRkRVBvbHlnb25fVG9fVkdyb3VwIiwiZmVhdHVyZXMiLCJyZWR1Y2UiLCJkYXRhIiwiZmVhdHVyZSIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheSIsImdlb0pTT04iLCJhcmVhRnVuYyIsInR1cmYiLCJhcmVhIiwid2FybiIsInN1bSIsIl9wcm9wcyRwcmVjTGF0TG5nIiwicHJlY0xhdExuZyIsInZMYXllciIsImVQb2x5Z29uTGF5ZXIiLCJzZWxlY3RlZExheWVyIiwiZUFyZWEiLCJwcmVjaXNpb25HZW9KU09OIiwidkFyZWEiLCJoQXJlYSIsInByZWNpc2lvbiIsImdldFNlbGVjdGVkTWFya2VyIiwiY2xlYXJTZWxlY3RlZE1hcmtlciIsIkVycm9yIiwicG9seWdvbiIsImNsZWFyTGF5ZXJzIiwiY3JlYXRlRWRpdFBvbHlnb24iLCJqc29uIiwiZ2VvSnNvbiIsImdldExhdExuZ3MiLCJ2R3JvdXAiLCJhZGRMYXllciIsIl9maXRWQm91bmRzIiwiX3NldFNlbGVjdGVkVkxheWVyIiwiX2NsZWFyU2VsZWN0ZWRWTGF5ZXIiLCJfaGlkZVNlbGVjdGVkVkxheWVyIiwiYnJpbmdUb0JhY2siLCJfc2hvd1NlbGVjdGVkVkxheWVyIiwiX3BhdGgiLCJ2aXNpYmlsaXR5IiwiZVBvbHlnb24iLCJzZWxlY3RlZFZMYXllciIsInJlZHJhdyIsIl9jb252ZXJ0VG9FZGl0IiwicG9pbnRzQXJyYXkiLCJpc01pZGRsZSIsImdldExhdExuZyIsImhvbGVzIiwiZ2V0SG9sZXMiLCJzZXRMYXRMbmdzIiwic2V0U3R5bGUiLCJfY29udGFpbmVyIiwicmVtb3ZlIiwiYWRkIiwiZml0Qm91bmRzIiwiZ2V0Qm91bmRzIiwicGFkZGluZyIsIl91bkJpbmREcmF3RXZlbnRzIiwiX21vdmVFUG9seWdvbk9uVG9wIiwiZWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJfZ2V0R2VvbWV0cnkiLCJEcmF3RXZlbnRzIiwiX21hcmtlckljb25zIiwiX2V2ZW50TmFtZXMiLCJvcmlnaW5hbEV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJ0YXJnZXQiLCJNYXJrZXIiLCJlTWFya2Vyc0dyb3VwIiwiX2FkZE1hcmtlciIsInN0YXJ0RHJhd1N0eWxlIiwiZmlyc3RNYXJrZXIiLCJlaE1hcmtlcnNHcm91cCIsImxhc3RIb2xlIiwiZ2V0TGFzdEhvbGUiLCJyZXNldFNlbGVjdGlvbiIsIm1Hcm91cCIsInJlc2V0TGFzdEhvbGUiLCJzZWxlY3QiLCJvbkNsaWNrIiwibXNnIiwibGF5ZXJQb2ludCIsIl9yZWYiLCJfb3BlblBvcHVwIiwibnVtYmVyIiwicHJlYyIsImFycmF5U3RyaW5ncyIsInNwbGl0IiwicnNsdCIsIl9wcmVjIiwidG9QcmVjaXNpb24iLCJOdW1iZXIiLCJfanNvbiRnZW9tZXRyeSIsIkFycmF5IiwiaXNBcnJheSIsIm91dGxldCIsImVkZ2UiLCJpbmNsdWRlcyIsIkV2ZW50ZWQiLCJfc2VsZWN0ZWQiLCJfcG9zaXRpb25IYXNoIiwiX2xhc3RQb3NpdGlvbiIsIm1vdmUiLCJtYXJrZXJzIiwicmVtb3ZlTWFya2VyIiwic3BsaWNlIiwiY2IiLCJtYXJrZXJBdCIsImxhc3RNYXJrZXIiLCJiIiwicHJldk1hcmtlciIsIl9wcmV2IiwibmV4dE1hcmtlciIsIl9uZXh0IiwibmV4dG5leHRNYXJrZXIiLCJyZW1vdmVNYXJrZXJBdCIsIl9jaGFuZ2VQb3MiLCJfbWFya2VyIiwiaGFzU3RhcnRNYXJrZXIiLCJzb21lIiwiX3JlY2FsY1Bvc2l0aW9ucyIsIl9nZXRNaWRkbGVMYXRMbmciLCJfcmVjYWxjUmVsYXRpb25zIiwiaWRzIiwiX2lkcyIsIl9kZWxldGVFdmVudHMiLCJfbGVhZmxldF9ldmVudHMiLCJ2aWV3cmVzZXRfaWR4Iiwiem9vbWFuaW1faWR4IiwibWFya2VyMSIsIm1hcmtlcjIiLCJwMSIsInByb2plY3QiLCJwMiIsInVucHJvamVjdCIsIl9kaXZpZGVCeSIsImNoYW5nZVBvcyIsIl90aGlzNSIsIl9sYXllcnMiLCJzb3J0Iiwic2V0TGFzdEhvbGUiLCJlbmFibGVEcmFnIiwic2VsZWN0SWNvbkluR3JvdXAiLCJpc1NlbGVjdGVkIiwiZGlzYWJsZURyYWciLCJ1blNlbGVjdEljb25Jbkdyb3VwIiwiaW5kZXhPZiIsIl9kcmFnZ2FibGUiLCJfb2xkTGF0TG5nU3RhdGUiLCJkcmFnZ2FibGUiLCJfaXNGaXJzdCIsImRyYWdnaW5nIiwiZW5hYmxlIiwiZGlzYWJsZSIsIm5leHQiLCJwcmV2IiwiY2hhbmdlUHJldk5leHRQb3MiLCJwcmV2TGF0TG5nIiwibmV4dExhdExuZyIsInNldExhdExuZyIsIl9yZXNldEljb24iLCJpYyIsInNldEljb24iLCJfYWRkSWNvbkNsYXNzIiwiRG9tVXRpbCIsImFkZENsYXNzIiwiX3JlbW92ZUljb25DbGFzcyIsInJlbW92ZUNsYXNzIiwiaGFzQ2xhc3MiLCJfc2V0RHJhZ0ljb24iLCJpc1BsYWluIiwiX29uY2VDbGljayIsIm9uY2UiLCJpc0FjY2VwdGVkVG9EZWxldGUiLCJpc1NlbGVjdGVkSW5Hcm91cCIsIm5lZWRBY2NlcHRUb0RlbGV0ZSIsIl9kaXNhbGxvd1RvRXhlY3V0ZUV2ZW50IiwiX2JpbmRFdmVudHMiLCJfbGF0bG5nIiwiX19kcmFnZ2luZyIsImhpZGUiLCJfZW5hYmxlZCIsInN0b3BQcm9wYWdhdGlvbiIsInNlbGVjdGVkTWFya2VyIiwic2VsZWN0ZWRNYXJrZXJEcmFnZ2luZyIsIl9vbkRyYWciLCJfb25EcmFnRW5kIiwic2V0VGltZW91dCIsInJlc2V0U3R5bGUiLCJyZXNldEljb24iLCJfc2VsZWN0SWNvbkluR3JvdXAiLCJ0b3VjaFpvb20iLCJkb3VibGVDbGlja1pvb20iLCJib3hab29tIiwia2V5Ym9hcmQiLCJNc2dIZWxwZXIiLCJkZWZhdWx0TXNnIiwiYWRkQ29udHJvbCIsIkNvbnRyb2wiLCJfb25SZXNpemVFdmVudCIsIl90aXRsZUNvbnRhaW5lciIsIlV0aWwiLCJzZXRPcHRpb25zIiwiY29ybmVyIiwiY29udGFpbmVyIiwiX2NvbnRyb2xDb3JuZXJzIiwiX2NvbnRyb2xDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsIl9zZXRDb250YWluZXIiLCJjb250cm9sIiwiX3VuQmluZEV2ZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImJvZHkiLCJyZW1vdmVDaGlsZCIsImNvbnRyb2xDb3JuZXIiLCJjaGlsZHJlbiIsImNoaWxkIiwid2lkdGgiLCJjbGllbnRXaWR0aCIsImxlZnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90aXRsZVBvc0NvbnRhaW5lciIsImlubmVySFRNTCIsImdldE9mZnNldCIsImVsIiwiX3giLCJfeSIsImlzRnVsbHNjcmVlbiIsImlzTmFOIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm9mZnNldFBhcmVudCIsInkiLCJ4IiwicG9pbnQiLCJvZmZzZXQiLCJQb2ludCIsImxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50IiwibGF0TG5nVG9Db250YWluZXJQb2ludCIsInRvcCIsImdldEJ0bkNvbnRhaW5lciIsImdldEJ0bkF0IiwicG9zIiwiZGlzYWJsZUJ0biIsImVuYWJsZUJ0biIsImZyb20iLCJ0byIsImZ1bmMiLCJGZWF0dXJlR3JvdXAiLCJtVmlld1N0eWxlIiwiRG9tRXZlbnQiLCJFZGl0UGxveWdvbiIsIkV4dGVuZGVkUG9seWdvbiIsIl9vbGRFIiwiX2siLCJQb2x5Z29uIiwiX3VwZGF0ZU1hcmtlciIsIl9yZW1vdmVIb2xlIiwiaG9sZVBvc2l0aW9uIiwiX2xlYWZsZXRfaWQiLCJyZXBvcyIsIlBvbHlsaW5lIiwiYWRkSG9sZSIsImhhc0hvbGVzIiwibGF0TG5ncyIsInRvU3RyaW5nIiwiX2lzSGlkZGVuRGF0YSIsIl9nZXRMYXRMbmdzIiwiX2dldExhdExuZ3MyIiwiY2xlYXJIb2xlcyIsIl9vcHRpb25zIiwiX2xhdGxuZ1RvTW92ZSIsIl9pc0hpZGRlbkxpbmUiLCJsYXRMbmciLCJsYXQiLCJsbmciLCJfYWRkTGluZSIsImxpbmUiLCJpc0xhc3RNYXJrZXIiLCJfbWFya2VyR3JvdXAiLCJfbGFzdEhvbGUiLCJfbGFzdEhvbGVUb0RyYXciLCJnZXRMZW5ndGgiLCJMZWFmbGV0RWRpdG9yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFO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T0FSQW5FLEtBQUt5ZCxVQUFZLElBQUlwZSxVQUNyQlcsS0FBS3lkLFVBQVVqZSxTQUFVLEVBQ3pCUSxLQUFLeWQsVUFBVXJWLE1BQU1wSSxNQUVyQkEsS0FBS3lkLFVBQVU3YSxTQUFXNUMsS0FBSzJkLFlBQWMsRUFFN0MzZCxLQUFLMGQsZ0JBQWtCMWQsS0FBS3lkLFVBRXJCemQsS0FBS3lkLFdBRWRFLFVBZm1DLFdBZ0JqQyxPQUFPM2QsS0FBS2UsWUFBWU0sUUFFMUJ1UCxjQWxCbUMsV0FtQmpDNVEsS0FBS3lkLGVBQVkxYSxHQUVuQjRSLFlBckJtQyxTQXFCdEIzUyxHQUNYaEMsS0FBS3lkLFVBQVl6YixHQUVuQnlPLFlBeEJtQyxXQXlCakMsT0FBT3pRLEtBQUt5ZCxXQUVkek8sT0EzQm1DLFdBNEJqQ2hQLEtBQUsySixVQUFVLFNBQUMzRixHQUNkLEtBQU9BLEVBQUtqRCxZQUFZTSxRQUN0QjJDLEVBQUtrUCxlQUFlLE1BSTFCbUosTUFsQ21DLFNBa0M1QnpaLEdBQ0w1QyxLQUFLMkosVUFBVSxTQUFDM0gsR0FDVkEsRUFBTVksVUFBWUEsSUFDcEJaLEVBQU1ZLFVBQVksTUFJeEI4TixlQXpDbUMsV0EwQ2pDMVEsS0FBSzJKLFVBQVUsU0FBQzNILEdBQ2RBLEVBQU0wTyxtQkFFUjFRLEtBQUtrUyxXQUFZLEdBR25CN08sTUFoRG1DLFdBZ0QxQixJQUFBcEIsRUFBQWpDLEtBQ1BBLEtBQUsySixVQUFVLFNBQUEzSCxHQUNUQSxFQUFNL0IsVUFDUitCLEVBQU1xQixRQUdScEIsRUFBS3FHLFlBQVl0RyxzQ0N4RHZCLE1BQUE1QixFQUFBbkcsRUFBQSx1Q0FFQXFLLE9BQU9zWixjQUFnQnBXIiwiZmlsZSI6ImRpc3QvanMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjApO1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBjaGFuZ2VkOiAnZWRpdG9yOnBvbHlnb25fY2hhbmdlZCcsXG5cbiAgc3RhcnRfYWRkX25ld19wb2x5Z29uOiAnZWRpdG9yOnN0YXJ0X2FkZF9uZXdfcG9seWdvbicsXG4gIHN0YXJ0X2FkZF9uZXdfaG9sZTogJ2VkaXRvcjpzdGFydF9hZGRfbmV3X2hvbGUnLFxuICBtYXJrZXJfZ3JvdXBfY2xlYXI6ICdlZGl0b3I6bWFya2VyX2dyb3VwX2NsZWFyJyxcbiAgam9pbl9wYXRoOiAnZWRpdG9yOl9fam9pbl9wYXRoJyxcbiAgaG9sZV9jcmVhdGVkOiAnZWRpdG9yOnBvbHlnb246aG9sZV9jcmVhdGVkJyxcbiAgcG9seWdvbl9jcmVhdGVkOiAnZWRpdG9yOnBvbHlnb246Y3JlYXRlZCcsXG4gIHBvbHlnb25fc2VsZWN0ZWQ6ICdlZGl0b3I6cG9seWdvbjpzZWxlY3RlZCcsXG4gIGRlbGV0ZV9tYXJrZXI6ICdlZGl0b3I6ZGVsZXRlX21hcmtlcicsXG4gIGRlbGV0ZV9wb2x5Z29uOiAnZWRpdG9yOmRlbGV0ZV9wb2x5Z29uJyxcblxuICBtYXBfY2xlYXJlZDogJ2VkaXRvcjptYXBfY2xlYXJlZCcsXG5cbiAgbGFzdF9tYXJrZXJfZGJsY2xpY2tfbW91c2VvdmVyOiAnZWRpdG9yOmxhc3RfbWFya2VyX2RibGNsaWNrX21vdXNlb3ZlcicsXG5cbiAgaG9sZV9kZWxldGVkOiAnZWRpdG9yOnBvbHlnb246aG9sZV9kZWxldGVkJyxcbiAgcG9seWdvbl9kZWxldGVkOiAnZWRpdG9yOnBvbHlnb246ZGVsZXRlZCcsXG5cbiAgZmlyc3RfbWFya2VyX21vdXNlb3ZlcjogJ2VkaXRvcjpmaXJzdF9tYXJrZXJfbW91c2VvdmVyJyxcblxuICBzZWxlY3RlZF9taWRkbGVfbWFya2VyX21vdXNlb3ZlcjogJ2VkaXRvcjpzZWxlY3RlZF9taWRkbGVfbWFya2VyX21vdXNlb3ZlcicsXG5cbiAgc2VsZWN0ZWRfbWFya2VyX21vdXNlb3ZlcjogJ2VkaXRvcjpzZWxlY3RlZF9tYXJrZXJfbW91c2VvdmVyJyxcbiAgbm90X3NlbGVjdGVkX21hcmtlcl9tb3VzZW92ZXI6ICdlZGl0b3I6bm90X3NlbGVjdGVkX21hcmtlcl9tb3VzZW92ZXInLFxuXG4gIG1hcmtlcl9tb3VzZW91dDogJ2VkaXRvcjptYXJrZXJfbW91c2VvdXQnLFxuXG4gIGRyYWdfbWFya2VyOiAnZWRpdG9yOmRyYWdfbWFya2VyJyxcblxuICBkcmFnZW5kX21hcmtlcjogJ2VkaXRvcjpkcmFnZW5kX21hcmtlcicsXG4gIG1hcmtlcl9kcmFnc3RhcnQ6ICdlZGl0b3I6bWFya2VyX2RyYWdzdGFydCcsXG5cbiAgZWRpdF9wb2x5Z29uX21vdXNlbW92ZTogJ2VkaXRvcjplZGl0X3BvbHlnb25fbW91c2Vtb3ZlJyxcbiAgZWRpdF9wb2x5Z29uX21vdXNlb3ZlcjogJ2VkaXRvcjplZGl0X3BvbHlnb25fbW91c2VvdmVyJyxcbiAgZWRpdF9wb2x5Z29uX21vdXNlb3V0OiAnZWRpdG9yOmVkaXRfcG9seWdvbl9tb3VzZW91dCcsXG5cbiAgZGVsZXRlX2hvbGU6ICdlZGl0b3I6ZGVsZXRlX2hvbGUnLFxuXG4gIGJlZm9yZV9hZGRfbWFya2VyOiAnZWRpdG9yOmJlZm9yZV9hZGRfbWFya2VyJyxcbiAgYWRkX21hcmtlcjogJ2VkaXRvcjphZGRfbWFya2VyJyxcbiAgYWRkX2hvbGVfbWFya2VyOiAnZWRpdG9yOmFkZF9ob2xlX21hcmtlcicsXG4gIG1hcmtlcl9ncm91cF9zZWxlY3Q6ICdlZGl0b3I6bWFya2VyX2dyb3VwX3NlbGVjdCcsXG5cbiAgdmlld19wb2x5Z29uX21vdXNlbW92ZTogJ2VkaXRvcjp2aWV3X3BvbHlnb25fbW91c2Vtb3ZlJyxcblxuICB2aWV3X3BvbHlnb25fbW91c2VvdXQ6ICdlZGl0b3I6dmlld19wb2x5Z29uX21vdXNlb3V0J1xufVxuIiwiaW1wb3J0IG0gZnJvbSAnLi91dGlscy9tb2JpbGUuanMnO1xuXG52YXIgc2l6ZSA9IDE7XG52YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuXG5pZiAobS5pc01vYmlsZUJyb3dzZXIoKSkge1xuICBzaXplID0gMjtcbn1cblxuZXhwb3J0IGNvbnN0IGZpcnN0SWNvbiA9IEwuZGl2SWNvbih7XG4gIGNsYXNzTmFtZTogXCJtLWVkaXRvci1kaXYtaWNvbi1maXJzdFwiLFxuICBpY29uU2l6ZTogWzEwICogc2l6ZSwgMTAgKiBzaXplXVxufSk7XG5cbmV4cG9ydCBjb25zdCBpY29uID0gTC5kaXZJY29uKHtcbiAgY2xhc3NOYW1lOiBcIm0tZWRpdG9yLWRpdi1pY29uXCIsXG4gIGljb25TaXplOiBbMTAgKiBzaXplLCAxMCAqIHNpemVdXG59KTtcblxuZXhwb3J0IGNvbnN0IGRyYWdJY29uID0gTC5kaXZJY29uKHtcbiAgY2xhc3NOYW1lOiBcIm0tZWRpdG9yLWRpdi1pY29uLWRyYWdcIixcbiAgaWNvblNpemU6IFsxMCAqIHNpemUgKiAzLCAxMCAqIHNpemUgKiAzXVxufSk7XG5cbmV4cG9ydCBjb25zdCBtaWRkbGVJY29uID0gTC5kaXZJY29uKHtcbiAgY2xhc3NOYW1lOiBcIm0tZWRpdG9yLW1pZGRsZS1kaXYtaWNvblwiLFxuICBpY29uU2l6ZTogWzEwICogc2l6ZSwgMTAgKiBzaXplXVxufSk7XG5cbmV4cG9ydCBjb25zdCBtaWRkbGVTZWxlY3RlZEljb24gPSBMLmRpdkljb24oe1xuICBjbGFzc05hbWU6IFwibS1lZGl0b3ItbWlkZGxlLWRpdi1pY29uIGdyb3VwLXNlbGVjdGVkXCIsXG4gIGljb25TaXplOiBbMTAgKiBzaXplLCAxMCAqIHNpemVdXG59KTtcbiIsImltcG9ydCBCYXNlTUdyb3VwIGZyb20gJy4uLy4uL2V4dGVuZGVkL0Jhc2VNYXJrZXJHcm91cC5qcyc7XG5cbmltcG9ydCBFVkVOVFMgZnJvbSAnLi4vLi4vZXZlbnQtbmFtZXMuanMnO1xuXG5pbXBvcnQgKiBhcyBpY29ucyBmcm9tICcuLi8uLi9tYXJrZXItaWNvbnMuanMnO1xuXG5MLk1hcmtlckdyb3VwID0gQmFzZU1Hcm91cC5leHRlbmQoe1xuICBfaXNIb2xlOiBmYWxzZSxcbiAgX3Bvc2l0aW9uOiBudWxsLFxuICBvcHRpb25zOiB7XG4gICAgbUljb246IG51bGwsXG4gICAgbUhvdmVySWNvbjogbnVsbFxuICB9LFxuICBpbml0aWFsaXplIChsYXllcnMpIHtcbiAgICBMLkxheWVyR3JvdXAucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBsYXllcnMpO1xuXG4gICAgdGhpcy5fbWFya2VycyA9IFtdO1xuICB9LFxuICBvbkFkZCAobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICB9LFxuICBvblJlbW92ZSAoKSB7XG4gICAgdGhpcy5fbWFwLm9mZignbW91c2Vtb3ZlJyk7XG4gIH0sXG4gIF91cGRhdGVERUxpbmUgKGxhdGxuZykge1xuICAgIGNvbnN0IGRlTGluZSA9IHRoaXMuZ2V0REVMaW5lKCk7XG4gICAgaWYgKHRoaXMuX2ZpcnN0TWFya2VyKSB7XG4gICAgICBkZUxpbmUudXBkYXRlKGxhdGxuZyk7XG4gICAgfVxuICAgIHJldHVybiBkZUxpbmU7XG4gIH0sXG4gIGdldERFTGluZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5kYXNoZWRFZGl0TGluZUdyb3VwO1xuICB9LFxuICBoYXNNaW5pbWFsTWFya2Vyc0xlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRMYXllcnMoKS5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLl9pY29uLmNsYXNzTGlzdC5jb250YWlucygnbS1lZGl0b3ItZGl2LWljb24nKSAmJiAhaXRlbS5faWNvbi5jbGFzc0xpc3QuY29udGFpbnMoJ20tZWRpdG9yLW1pZGRsZS1kaXYtaWNvbicpO1xuICAgIH0pLmxlbmd0aCA8PSAzO1xuICB9LFxuICBzZXRTZWxlY3RlZCAobWFya2VyKSB7XG4gICAgdmFyIG1hcCA9IHRoaXMuX21hcDtcblxuICAgIGlmICh0aGlzLmhhc0ZpcnN0TWFya2VyKCkpIHtcbiAgICAgIG1hcC5zZXRTZWxlY3RlZE1hcmtlcih0aGlzLmdldExhc3QoKSk7XG4gICAgICBtYXAuX29sZFNlbGVjdGVkTWFya2VyID0gbWFwLl9zZWxlY3RlZE1hcmtlcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXAuX29sZFNlbGVjdGVkTWFya2VyID0gbWFwLl9zZWxlY3RlZE1hcmtlcjtcbiAgICBtYXAuc2V0U2VsZWN0ZWRNYXJrZXIobWFya2VyKTtcbiAgfSxcbiAgZ2V0Rmlyc3QgKCkge1xuICAgIHJldHVybiB0aGlzLl9maXJzdE1hcmtlcjtcbiAgfSxcbiAgZ2V0TGFzdCAoKSB7XG4gICAgaWYgKHRoaXMuaGFzRmlyc3RNYXJrZXIoKSkge1xuICAgICAgdmFyIGxheWVycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG4gICAgICByZXR1cm4gbGF5ZXJzW2xheWVycy5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH0sXG4gIGhhc0ZpcnN0TWFya2VyICgpIHtcbiAgICByZXR1cm4gISEodGhpcy5nZXRGaXJzdCgpICYmIHRoaXMuZ2V0Rmlyc3QoKS5faGFzRmlyc3RJY29uKCkpO1xuICB9LFxuICByZXN0b3JlIChsYXllcikge1xuICAgIGlmIChsYXllci5fbGF0bG5nc1swXVswXSBpbnN0YW5jZW9mIEwuTGF0TG5nKSB7XG4gICAgICBpZiAobGF5ZXIuX2xhdGxuZ3MpIHtcbiAgICAgICAgdGhpcy5zZXRBbGwobGF5ZXIuX2xhdGxuZ3NbMF0pO1xuICAgICAgfVxuICAgICAgaWYgKGxheWVyLl9sYXRsbmdzWzFdKSB7XG4gICAgICAgIGNvbnN0IFtfLCAuLi5faG9sZXNdID0gbGF5ZXIuX2xhdGxuZ3M7XG5cbiAgICAgICAgdGhpcy5zZXRBbGxIb2xlcyhfaG9sZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGF5ZXIuX2xhdGxuZ3NbMF1bMF1bMF0gaW5zdGFuY2VvZiBMLkxhdExuZykge1xuICAgICAgbGF5ZXIuX2xhdGxuZ3MuZm9yRWFjaChsbCA9PiB7XG4gICAgICAgIHRoaXMucmVzdG9yZSh7IF9sYXRsbmdzOiBsbCB9KVxuICAgICAgfSlcbiAgICB9XG5cbiAgfSxcbiAgX2FkZChsYXRsbmcsIHBvc2l0aW9uLCBvcHRpb25zID0ge30pIHtcblxuICAgIGlmICh0aGlzLl9tYXAuaXNNb2RlKCdkcmF3JykpIHtcbiAgICAgIGlmICghdGhpcy5fZmlyc3RNYXJrZXIpIHtcbiAgICAgICAgb3B0aW9ucy5pY29uID0gaWNvbnMuZmlyc3RJY29uO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtYXJrZXIgPSB0aGlzLmFkZE1hcmtlcihsYXRsbmcsIHBvc2l0aW9uLCBvcHRpb25zKTtcblxuICAgIHRoaXMuZ2V0REVMaW5lKCkuYWRkTGF0TG5nKGxhdGxuZyk7XG5cbiAgICBpZiAodGhpcy5nZXRGaXJzdCgpLl9oYXNGaXJzdEljb24oKSkge1xuICAgICAgdGhpcy5fbWFwLm9uKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl91cGRhdGVERUxpbmUoZS5sYXRsbmcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2V0REVMaW5lKCkuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBpZiAobWFya2VyLl9tR3JvdXAuZ2V0TGF5ZXJzKCkubGVuZ3RoID4gMikge1xuICAgICAgaWYgKG1hcmtlci5fbUdyb3VwLl9maXJzdE1hcmtlci5faGFzRmlyc3RJY29uKCkgJiYgbWFya2VyID09PSBtYXJrZXIuX21Hcm91cC5fbGFzdE1hcmtlcikge1xuICAgICAgICB0aGlzLl9tYXAuZmlyZShFVkVOVFMubGFzdF9tYXJrZXJfZGJsY2xpY2tfbW91c2VvdmVyLCB7bWFya2VyOiBtYXJrZXJ9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBzZXRNaWRkbGVNYXJrZXIgKHBvc2l0aW9uKSB7XG4gICAgdGhpcy5hZGRNYXJrZXIocG9zaXRpb24sIG51bGwsIHtpY29uOiBpY29ucy5taWRkbGVTZWxlY3RlZEljb259KTtcbiAgfSxcbiAgc2V0TWlkZGxlTWFya2VycyAocG9zaXRpb24pIHtcbiAgICB0aGlzLnNldE1pZGRsZU1hcmtlcihwb3NpdGlvbik7XG4gICAgdGhpcy5zZXRNaWRkbGVNYXJrZXIocG9zaXRpb24gKyAyKTtcbiAgfSxcbiAgc2V0IChsYXRsbmcsIHBvc2l0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkZChsYXRsbmcsIHBvc2l0aW9uLCBvcHRpb25zKTtcbiAgfSxcbiAgc2V0QWxsIChsYXRsbmdzID0gW10pIHtcbiAgICBsYXRsbmdzLmZvckVhY2goKGxhdGxuZywgcG9zaXRpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0KGxhdGxuZywgcG9zaXRpb24pO1xuICAgIH0pO1xuXG4gICAgaWYgKGxhdGxuZ3MubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5nZXRGaXJzdCgpLmZpcmUoJ2NsaWNrJyk7XG4gICAgfVxuICB9LFxuICBzZXRBbGxIb2xlcyAoaG9sZXMgPSBbXSkge1xuICAgIGhvbGVzLmZvckVhY2goKGhvbGUpID0+IHtcbiAgICAgIHZhciBsYXN0SEdyb3VwID0gdGhpcy5fbWFwLmdldEVITWFya2Vyc0dyb3VwKCkuYWRkSG9sZUdyb3VwKCk7XG5cbiAgICAgIGhvbGUuX2VhY2goKGxhdGxuZywgcG9zaXRpb24pID0+IHtcbiAgICAgICAgbGFzdEhHcm91cC5zZXQobGF0bG5nLCBwb3NpdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgbGFzdEhHcm91cC5nZXRGaXJzdCgpLmZpcmUoJ2NsaWNrJyk7XG4gICAgfSk7XG4gIH0sXG4gIF9iaW5kTGluZUV2ZW50czogdW5kZWZpbmVkXG59KTtcblxuY29uc3QgTWFya2VyR3JvdXAgPSBMLk1hcmtlckdyb3VwO1xuZXhwb3J0IGRlZmF1bHQgTWFya2VyR3JvdXA7XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGlzTW9iaWxlQnJvd3NlciAobmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcikge1xuICAgIGNvbnN0IGEgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhO1xuICAgIHZhciBjaGVjayA9IGZhbHNlO1xuXG4gICAgaWYgKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaS50ZXN0KGEpIHx8IC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCwgNCkpKSB7XG4gICAgICBjaGVjayA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoZWNrO1xuICB9XG59O1xuIiwiY29uc3Qgdmlld0NvbG9yID0gJyMwYWFlYzknO1xuY29uc3QgZHJhd0NvbG9yID0gJyMwMGNkMDAnO1xuY29uc3Qgd2VpZ2h0ID0gMztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBmb3JjZVRvRHJhdzogdHJ1ZSxcbiAgbm90aWZ5Q2xpY2tNYXJrZXJEZWxldGVQb2x5Z29uOiBmYWxzZSxcbiAgdHJhbnNsYXRpb25zOiB7XG4gICAgcmVtb3ZlUG9seWdvbjogJ3JlbW92ZSBwb2x5Z29uJyxcbiAgICByZW1vdmVQb2ludDogJ3JlbW92ZSBwb2ludCdcbiAgfSxcbiAgc3R5bGU6IHtcbiAgICB2aWV3OiB7XG4gICAgICBvcGFjaXR5OiAwLjUsXG4gICAgICBmaWxsT3BhY2l0eTogMC4yLFxuICAgICAgZGFzaEFycmF5OiBudWxsLFxuICAgICAgY2xpY2thYmxlOiBmYWxzZSxcbiAgICAgIGZpbGw6IHRydWUsXG4gICAgICBzdHJva2U6IHRydWUsXG4gICAgICBjb2xvcjogdmlld0NvbG9yLFxuICAgICAgd2VpZ2h0OiB3ZWlnaHRcbiAgICB9LFxuICAgIGRyYXc6IHtcbiAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgIGZpbGxPcGFjaXR5OiAwLjIsXG4gICAgICBkYXNoQXJyYXk6ICc1LCAxMCcsXG4gICAgICBjbGlja2FibGU6IHRydWUsXG4gICAgICBmaWxsOiB0cnVlLFxuICAgICAgc3Ryb2tlOiB0cnVlLFxuICAgICAgY29sb3I6IGRyYXdDb2xvcixcbiAgICAgIHdlaWdodDogd2VpZ2h0XG4gICAgfSxcbiAgICBzdGFydERyYXc6IHt9LFxuICAgIGRyYXdMaW5lOiB7XG4gICAgICBvcGFjaXR5OiAwLjcsXG4gICAgICBmaWxsOiBmYWxzZSxcbiAgICAgIGZpbGxDb2xvcjogZHJhd0NvbG9yLFxuICAgICAgY29sb3I6IGRyYXdDb2xvcixcbiAgICAgIHdlaWdodDogd2VpZ2h0LFxuICAgICAgZGFzaEFycmF5OiAnNSwgMTAnLFxuICAgICAgc3Ryb2tlOiB0cnVlLFxuICAgICAgY2xpY2thYmxlOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgbWFya2VySWNvbjogdW5kZWZpbmVkLFxuICBtYXJrZXJIb3Zlckljb246IHVuZGVmaW5lZCxcbiAgZXJyb3JMaW5lU3R5bGU6IHtcbiAgICBjb2xvcjogJ3JlZCcsXG4gICAgd2VpZ2h0OiAzLFxuICAgIG9wYWNpdHk6IDEsXG4gICAgc21vb3RoRmFjdG9yOiAxXG4gIH0sXG4gIHByZXZpZXdFcnJvckxpbmVTdHlsZToge1xuICAgIGNvbG9yOiAncmVkJyxcbiAgICB3ZWlnaHQ6IDMsXG4gICAgb3BhY2l0eTogMSxcbiAgICBzbW9vdGhGYWN0b3I6IDEsXG4gICAgZGFzaEFycmF5OiAnNSwgMTAnXG4gIH0sXG4gIHRleHQ6IHtcbiAgICByZW1vdmVQb2x5Z29uOiAnUmVtb3ZlIHBvbHlnb24nLFxuICAgIGFjY2VwdERlbGV0aW9uOiAnQ2xpY2sgYWdhaW4gdG8gcmVtb3ZlIHBvbHlnb24nLFxuICAgIGNsaWNrVG9FZGl0OiAnY2xpY2sgdG8gZWRpdCcsXG4gICAgY2xpY2tUb0FkZE5ld0VkZ2VzOiAnPGRpdj5jbGljayZuYnNwOyZuYnNwOzxkaXYgY2xhc3M9XFwnbS1lZGl0b3ItbWlkZGxlLWRpdi1pY29uIHN0YXRpYyBncm91cC1zZWxlY3RlZFxcJz48L2Rpdj4mbmJzcDsmbmJzcDt0byBhZGQgbmV3IGVkZ2VzPC9kaXY+JyxcbiAgICBjbGlja1RvRHJhd0lubmVyRWRnZXM6ICdjbGljayB0byBkcmF3IGlubmVyIGVkZ2VzJyxcbiAgICBjbGlja1RvSm9pbkVkZ2VzOiAnY2xpY2sgdG8gam9pbiBlZGdlcycsXG4gICAgY2xpY2tUb1JlbW92ZUFsbFNlbGVjdGVkRWRnZXM6ICc8ZGl2PmNsaWNrJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGRpdiBjbGFzcz1cXCdtLWVkaXRvci1kaXYtaWNvbiBzdGF0aWMgZ3JvdXAtc2VsZWN0ZWRcXCc+PC9kaXY+Jm5ic3A7Jm5ic3A7dG8gcmVtb3ZlIGVkZ2UmbmJzcDsmbmJzcDtvcjxicj5jbGljayZuYnNwOyZuYnNwOzxpIGNsYXNzPVxcJ2ZhIGZhLXRyYXNoXFwnPjwvaT4mbmJzcDsmbmJzcDt0byByZW1vdmUgYWxsIHNlbGVjdGVkIGVkZ2VzPC9kaXY+JyxcbiAgICBjbGlja1RvU2VsZWN0RWRnZXM6ICc8ZGl2PmNsaWNrJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGRpdiBjbGFzcz1cXCdtLWVkaXRvci1kaXYtaWNvbiBzdGF0aWNcXCc+PC9kaXY+Jm5ic3A7LyZuYnNwOzxkaXYgY2xhc3M9XFwnbS1lZGl0b3ItbWlkZGxlLWRpdi1pY29uIHN0YXRpY1xcJz48L2Rpdj4mbmJzcDsmbmJzcDt0byBzZWxlY3QgZWRnZXM8L2Rpdj4nLFxuICAgIGRibGNsaWNrVG9Kb2luRWRnZXM6ICdkb3VibGUgY2xpY2sgdG8gam9pbiBlZGdlcycsXG4gICAgY2xpY2tUb1N0YXJ0RHJhd1BvbHlnb25Pbk1hcDogJ2NsaWNrIHRvIHN0YXJ0IGRyYXcgcG9seWdvbiBvbiBtYXAnLFxuICAgIGRlbGV0ZVNlbGVjdGVkRWRnZXM6ICdkZWxldGVkIHNlbGVjdGVkIGVkZ2VzJyxcbiAgICByZWplY3RDaGFuZ2VzOiAncmVqZWN0IGNoYW5nZXMnLFxuICAgIGpzb25XYXNMb2FkZWQ6ICdKU09OIHdhcyBsb2FkZWQnLFxuICAgIGNoZWNrSnNvbjogJ2NoZWNrIEpTT04nLFxuICAgIGxvYWRKc29uOiAnbG9hZCBHZW9KU09OJyxcbiAgICBmb3JnZXRUb1NhdmU6ICdTYXZlIGNoYW5nZXMgYnkgcHJlc3Npbmcgb3V0c2lkZSBvZiBwb2x5Z29uJyxcbiAgICB6b29tOiAnWm9vbSdcbiAgfSxcbiAgd29ybGRDb3B5SnVtcDogdHJ1ZSxcbiAgZ2VvSlNPTkFyZWE6IG51bGxcbn07XG4iLCJpbXBvcnQgQmFzZU1hcCBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0IENvbnRyb2xzSG9vayBmcm9tICcuL2hvb2tzL2NvbnRyb2xzLmpzJztcblxuaW1wb3J0IG9wdHMgZnJvbSAnLi9vcHRpb25zLmpzJztcblxuaW1wb3J0ICcuL3V0aWxzL2FycmF5LmpzJztcbmltcG9ydCBWaWV3R3JvdXAgZnJvbSAnLi92aWV3L2dyb3VwLmpzJztcbmltcG9ydCBEcmF3R3JvdXAgZnJvbSAnLi9tb2Rlcy9kcmF3L2dyb3VwLmpzJztcbmltcG9ydCBFZGl0UG9seWdvbiBmcm9tICcuL21vZGVzL2VkaXQvcG9seWdvbi5qcyc7XG5pbXBvcnQgTWFya2VyR3JvdXAgZnJvbSAnLi9tb2Rlcy9lZGl0L21hcmtlci1ncm91cC5qcyc7XG5pbXBvcnQgRGFzaGVkRWRpdExpbmVHcm91cCBmcm9tICcuL21vZGVzL2RyYXcvZGFzaGVkLWxpbmUuanMnO1xuaW1wb3J0IEhvbGVzR3JvdXAgZnJvbSAnLi9tb2Rlcy9lZGl0L2hvbGVzR3JvdXAuanMnO1xuXG5sZXQgTWFwID0gTC5NYXAuZXh0ZW5kKHtcbiAgc2V0TGF5ZXJzKCkge1xuICAgIHRoaXMudmlld0dyb3VwID0gbmV3IFZpZXdHcm91cCgpO1xuICAgIHRoaXMuZWRpdEdyb3VwID0gbmV3IERyYXdHcm91cChbXSk7XG4gICAgdGhpcy5lZGl0UG9seWdvbiA9IG5ldyBFZGl0UG9seWdvbigpO1xuICAgIHRoaXMuZWRpdE1hcmtlcnNHcm91cCA9IG5ldyBNYXJrZXJHcm91cChbXSk7XG4gICAgdGhpcy5kYXNoZWRFZGl0TGluZUdyb3VwID0gbmV3IERhc2hlZEVkaXRMaW5lR3JvdXAoKTtcbiAgICB0aGlzLmVkaXRIb2xlTWFya2Vyc0dyb3VwID0gbmV3IEhvbGVzR3JvdXAoW10pO1xuXG4gICAgdGhpcy52aWV3R3JvdXAuYWRkVG8odGhpcyk7XG4gICAgdGhpcy5lZGl0R3JvdXAuYWRkVG8odGhpcyk7XG4gICAgdGhpcy5lZGl0UG9seWdvbi5hZGRUbyh0aGlzKTtcbiAgICB0aGlzLmVkaXRNYXJrZXJzR3JvdXAuYWRkVG8odGhpcyk7XG4gICAgdGhpcy5kYXNoZWRFZGl0TGluZUdyb3VwLmFkZFRvKHRoaXMpO1xuICAgIHRoaXMuZWRpdEhvbGVNYXJrZXJzR3JvdXAuYWRkVG8odGhpcyk7XG4gIH0sXG5cbiAgcmVtb3ZlTGF5ZXJzKCkge1xuICAgIHRoaXMucmVtb3ZlTGF5ZXIodGhpcy52aWV3R3JvdXApO1xuICAgIHRoaXMucmVtb3ZlTGF5ZXIodGhpcy5lZGl0R3JvdXApO1xuICAgIHRoaXMucmVtb3ZlTGF5ZXIodGhpcy5lZGl0UG9seWdvbik7XG4gICAgdGhpcy5yZW1vdmVMYXllcih0aGlzLmVkaXRNYXJrZXJzR3JvdXApO1xuICAgIHRoaXMucmVtb3ZlTGF5ZXIodGhpcy5kYXNoZWRFZGl0TGluZUdyb3VwKTtcbiAgICB0aGlzLnJlbW92ZUxheWVyKHRoaXMuZWRpdEhvbGVNYXJrZXJzR3JvdXApO1xuICB9LFxuXG4gIGluaXRpYWxpemUoaWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnZpZXdHcm91cCA9IG51bGw7XG5cbiAgICB0aGlzLmVkaXRHcm91cCA9IG51bGw7XG5cbiAgICB0aGlzLmVkaXRQb2x5Z29uID0gbnVsbDtcblxuICAgIHRoaXMuZWRpdE1hcmtlcnNHcm91cCA9IG51bGw7XG5cbiAgICB0aGlzLmRhc2hlZEVkaXRMaW5lR3JvdXAgPSBudWxsO1xuXG4gICAgdGhpcy5lZGl0SG9sZU1hcmtlcnNHcm91cCA9IG51bGw7XG5cbiAgICBpZiAob3B0aW9ucy50ZXh0KSB7XG4gICAgICBPYmplY3QuYXNzaWduKG9wdHMudGV4dCwgb3B0aW9ucy50ZXh0KTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLnRleHQ7XG4gICAgfVxuXG4gICAgbGV0IGNvbnRyb2xzID0gb3B0aW9ucy5jb250cm9scztcbiAgICBpZiAoY29udHJvbHMpIHtcbiAgICAgIGlmIChjb250cm9scy56b29tID09PSBmYWxzZSkge1xuICAgICAgICBvcHRpb25zLnpvb21Db250cm9sID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc3R5bGUpIHtcbiAgICAgIGlmIChvcHRpb25zLnN0eWxlLmRyYXcpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLnN0eWxlLmRyYXcsIG9wdGlvbnMuc3R5bGUuZHJhdyk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5zdHlsZS52aWV3KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0cy5zdHlsZS52aWV3LCBvcHRpb25zLnN0eWxlLnZpZXcpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuc3R5bGUuc3RhcnREcmF3KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0cy5zdHlsZS5zdGFydERyYXcsIG9wdGlvbnMuc3R5bGUuc3RhcnREcmF3KTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLnN0eWxlLmRyYXdMaW5lKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob3B0cy5zdHlsZS5kcmF3TGluZSwgb3B0aW9ucy5zdHlsZS5kcmF3TGluZSk7XG4gICAgICB9XG4gICAgICBkZWxldGUgb3B0aW9ucy5zdHlsZTtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucywgb3B0cywgb3B0aW9ucyk7XG5cbiAgICBMLk1hcC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGlkLCBvcHRpb25zKTtcblxuICAgIHRoaXMud2hlblJlYWR5KCgpID0+IHtcbiAgICAgIHRoaXMuc2V0TGF5ZXJzKCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlVG9EcmF3KSB7XG4gICAgICB0aGlzLm1vZGUoJ2RyYXcnKTtcbiAgICB9XG5cbiAgICB0aGlzLm9uKCd1bmxvYWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUNvbnRyb2wodGhpcy5tc2dIZWxwZXIpO1xuICAgICAgdGhpcy5yZW1vdmVMYXllcnMoKTtcbiAgICB9KTtcbiAgfSxcblxuICBnZXRWR3JvdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlld0dyb3VwO1xuICB9LFxuXG4gIGdldEVHcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5lZGl0R3JvdXA7XG4gIH0sXG5cbiAgZ2V0RVBvbHlnb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZWRpdFBvbHlnb247XG4gIH0sXG5cbiAgZ2V0RU1hcmtlcnNHcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5lZGl0TWFya2Vyc0dyb3VwO1xuICB9LFxuXG4gIGdldERFTGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXNoZWRFZGl0TGluZUdyb3VwO1xuICB9LFxuXG4gIGdldEVITWFya2Vyc0dyb3VwKCkge1xuICAgIHJldHVybiB0aGlzLmVkaXRIb2xlTWFya2Vyc0dyb3VwO1xuICB9LFxuXG4gIHNldFNlbGVjdGVkTUdyb3VwKGdyb3VwKSB7XG4gICAgZGVidWdnZXI7XG4gICAgdGhpcy5fc2VsZWN0ZWRNR3JvdXAgPSBncm91cDtcbiAgfSxcblxuICBjbGVhclNlbGVjdGVkTUdyb3VwKCkge1xuICAgIHRoaXMuX3NlbGVjdGVkTUdyb3VwID0gbnVsbDtcbiAgfSxcblxuICBnZXRTZWxlY3RlZE1Hcm91cCgpIHtcbiAgICBjb25zdCBzZWxlY3RlZE1Hcm91cCA9IHRoaXMuX3NlbGVjdGVkTUdyb3VwO1xuICAgIHJldHVybiBzZWxlY3RlZE1Hcm91cCAmJiBzZWxlY3RlZE1Hcm91cC5fbWFwID8gc2VsZWN0ZWRNR3JvdXAgOiBudWxsO1xuICB9LFxuXG4gIGdldEN1cnJlbnRHZW9KU09OKCkge1xuICAgIGNvbnN0IGNvb3JkcyA9IFtdO1xuXG4gICAgdGhpcy5nZXRWR3JvdXAoKS5lYWNoTGF5ZXIobGF5ZXIgPT4ge1xuICAgICAgaWYgKGxheWVyICE9PSB0aGlzLl9nZXRTZWxlY3RlZFZMYXllcigpKSB7XG4gICAgICAgIGNvb3Jkcy5wdXNoKGxheWVyLnRvR2VvSlNPTigpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGVDb29yZGluYXRlcyA9IHRoaXMuZ2V0RVBvbHlnb24oKS50b0dlb0pTT04oKS5nZW9tZXRyeS5jb29yZGluYXRlcztcblxuICAgIGlmIChlQ29vcmRpbmF0ZXMubGVuZ3RoKSB7XG4gICAgICBjb29yZHMucHVzaChlQ29vcmRpbmF0ZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBMLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLCB7XG4gICAgICB0eXBlOiAnTXVsdGlQb2x5Z29uJyxcbiAgICAgIGNvb3JkaW5hdGVzOiBjb29yZHNcbiAgICB9KTtcbiAgfVxufSk7XG5cbk1hcC5pbmNsdWRlKEJhc2VNYXApO1xuTWFwLmFkZEluaXRIb29rKENvbnRyb2xzSG9vayk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hcDtcblxuIiwiaW1wb3J0IERyYXdFdmVudHMgZnJvbSAnLi9tb2Rlcy9kcmF3L2V2ZW50cy5qcyc7XG5cbmltcG9ydCB7XG4gIHByZWNpc2lvbixcbiAgcHJlY2lzaW9uR2VvSlNPTlxufSBmcm9tICcuL3V0aWxzL3ByZWNpc2lvbi5qcyc7XG5cbmltcG9ydCBFVkVOVFMgZnJvbSAnLi9ldmVudC1uYW1lcy5qcyc7XG5cbmltcG9ydCBNYXJrZXJHcm91cCBmcm9tICcuL21vZGVzL2VkaXQvbWFya2VyLWdyb3VwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmFzc2lnbih7XG5cbiAgaGFzU2VsZWN0ZWRWTGF5ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNlbGVjdGVkVkxheWVyKCkgIT09IHVuZGVmaW5lZDtcbiAgfSxcblxuICBfc2VsZWN0ZWRNYXJrZXI6IHVuZGVmaW5lZCxcbiAgX3NlbGVjdGVkVkxheWVyOiB1bmRlZmluZWQsXG4gIF9vbGRTZWxlY3RlZE1hcmtlcjogdW5kZWZpbmVkLFxuICBfbW9kZVR5cGU6ICdkcmF3JyxcbiAgX2FjdGl2ZUVkaXRMYXllcjogdW5kZWZpbmVkLFxuICBfZXJyb3JUaW1lb3V0OiBudWxsLFxuXG4gIG1vZGUodHlwZSkge1xuICAgIGlmICh0aGlzW2BfX21vZGVfJHt0eXBlfWBdKSB7XG4gICAgICB0aGlzLl9zZXRNb2RlVHlwZSh0eXBlKTtcblxuICAgICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuXG4gICAgICB0eXBlID0gdGhpc1tgX19tb2RlXyR7dHlwZX1gXSgpIHx8IHR5cGU7XG5cbiAgICAgIHRoaXMuX3NldE1vZGUodHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE1vZGUgXCIke3R5cGV9XCIgaXMgbm90IGRlZmluZWRgKTtcbiAgICB9XG4gIH0sXG4gIGlzTW9kZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09IHRoaXMuX21vZGVUeXBlO1xuICB9LFxuICBfX21vZGVfZHJhdygpIHtcbiAgICB0aGlzLl9iaW5kRHJhd0V2ZW50cygpO1xuICB9LFxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuICAgIHRoaXMuX2NsZWFyTWFwKCk7XG5cbiAgICB0aGlzLmZpcmUoRVZFTlRTLm1hcF9jbGVhcmVkKTtcbiAgfSxcbiAgLyoqXG4gICAqXG4gICAqIFRoZSBtYWluIGlkZWEgaXMgdG8gc2F2ZSBFUG9seWdvbiB0byBWR3JvdXAgd2hlbjpcbiAgICogMSkgdXNlciBhZGQgbmV3IHBvbHlnb25cbiAgICogMikgd2hlbiB1c2VyIGVkaXQgcG9seWdvblxuICAgKlxuICAgKiAqL1xuICBzYXZlU3RhdGUoKSB7XG5cbiAgICBsZXQgZVBvbHlnb24gPSB0aGlzLmdldEVQb2x5Z29uKCk7XG5cbiAgICBpZiAoIWVQb2x5Z29uLmlzRW1wdHkoKSkge1xuICAgICAgaWYgKHRoaXMuX2dldFNlbGVjdGVkVkxheWVyKCkpIHtcbiAgICAgICAgdGhpcy5fc2V0RVBvbHlnb25fVG9fVkdyb3VwKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hZGRFUG9seWdvbl9Ub19WR3JvdXAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5tb2RlKCdkcmF3Jyk7XG5cbiAgICBjb25zdCByc2x0ID0gdGhpcy5nZXRWR3JvdXAoKS50b0dlb0pTT04oKTtcblxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnTXVsdGlQb2x5Z29uJyxcbiAgICAgIGNvb3JkaW5hdGVzOiByc2x0LmZlYXR1cmVzLnJlZHVjZSgoZGF0YSwgZmVhdHVyZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBbLi4uZGF0YSwgZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc107XG4gICAgICAgIH0sIFtdKVxuICAgIH07XG4gIH0sXG4gIGdlb0pTT05BcmVhKGdlb0pTT04pIHtcbiAgICBsZXQgYXJlYUZ1bmMgPSB0aGlzLm9wdGlvbnMuZ2VvSlNPTkFyZWEgfHwgd2luZG93LnR1cmYgJiYgd2luZG93LnR1cmYuYXJlYTtcblxuICAgIGlmICghYXJlYUZ1bmMpIHtcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogSW1wbGVtZW50IFwiZ2VvSlNPTkFyZWFcIiBmdW5jdGlvbiAoIGxlYWZsZXQtZWRpdG9yICknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGFyZWFGdW5jKSA/IGFyZWFGdW5jKGdlb0pTT04pIDogMDtcbiAgfSxcbiAgLyoqXG4gICAqIEdldCBlZGl0YWJsZSBhcmVhIHdpdGggcHJlY2lzaW9uIG9mIGxhdCwgbG5nXG4gICAqIERlZmF1bHQgcHJlY2lzaW9uIGlzIDYgKHByZWNMYXRMbmcpXG4gICAqXG4gICAqICovXG4gIGFyZWEocHJvcHMgPSB7fSkge1xuXG4gICAgbGV0IHtwcmVjTGF0TG5nID0gNn0gPSBwcm9wcztcbiAgICBsZXQgdkxheWVyID0gdGhpcy5nZXRWR3JvdXAoKTtcbiAgICBsZXQgZVBvbHlnb25MYXllciA9IHRoaXMuZ2V0RVBvbHlnb24oKTtcbiAgICBsZXQgc2VsZWN0ZWRMYXllciA9IHRoaXMuX2dldFNlbGVjdGVkVkxheWVyKCk7XG5cbiAgICBsZXQgc3VtID0gMDtcblxuICAgIGxldCBlQXJlYSA9ICghZVBvbHlnb25MYXllci5pc0VtcHR5KCkpID8gdGhpcy5nZW9KU09OQXJlYShwcmVjaXNpb25HZW9KU09OKGVQb2x5Z29uTGF5ZXIudG9HZW9KU09OKCksIHByZWNMYXRMbmcpKSA6IDA7XG4gICAgbGV0IHZBcmVhID0gdGhpcy5nZW9KU09OQXJlYShwcmVjaXNpb25HZW9KU09OKHZMYXllci50b0dlb0pTT04oKSwgcHJlY0xhdExuZykpO1xuXG4gICAgbGV0IGhBcmVhID0gKHNlbGVjdGVkTGF5ZXIpID8gdGhpcy5nZW9KU09OQXJlYShwcmVjaXNpb25HZW9KU09OKHNlbGVjdGVkTGF5ZXIudG9HZW9KU09OKCksIHByZWNMYXRMbmcpKSA6IDA7XG5cbiAgICBpZiAodGhpcy5oYXNTZWxlY3RlZFZMYXllcigpICYmIGVBcmVhID4gMCkge1xuICAgICAgdkFyZWEgLT0gaEFyZWE7XG4gICAgfVxuXG4gICAgc3VtID0gKGVBcmVhID4gMCkgPyAodkFyZWEgKyBlQXJlYSkgOiB2QXJlYTtcblxuICAgIHJldHVybiBwcmVjaXNpb24oc3VtLCBwcmVjTGF0TG5nKTtcbiAgfSxcbiAgZ2V0U2VsZWN0ZWRNYXJrZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkTWFya2VyO1xuICB9LFxuICBjbGVhclNlbGVjdGVkTWFya2VyKCkge1xuICAgIHRoaXMuX3NlbGVjdGVkTWFya2VyID0gbnVsbDtcbiAgfSxcbiAgc2V0U2VsZWN0ZWRNYXJrZXIobWFya2VyKSB7XG4gICAgaWYgKCFtYXJrZXIgfHwgIW1hcmtlci5faWNvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBpbiBtZXRob2QgXCJzZXRTZWxlY3RlZE1hcmtlclwiLiBDaGVjayBtYXJrZXIgaW5zdGFuY2UnKTtcbiAgICB9XG4gICAgdGhpcy5fc2VsZWN0ZWRNYXJrZXIgPSBtYXJrZXI7XG4gIH0sXG4gIHJlbW92ZVBvbHlnb24ocG9seWdvbikge1xuICAgIHRoaXMuZ2V0RU1hcmtlcnNHcm91cCgpLmNsZWFyTGF5ZXJzKCk7XG4gICAgdGhpcy5nZXRFSE1hcmtlcnNHcm91cCgpLmNsZWFyTGF5ZXJzKCk7XG5cbiAgICBwb2x5Z29uLmNsZWFyKCk7XG5cbiAgICB0aGlzLmNsZWFyU2VsZWN0ZWRNYXJrZXIoKTtcbiAgICB0aGlzLl9zZXRFUG9seWdvbl9Ub19WR3JvdXAoKTtcbiAgfSxcbiAgY3JlYXRlRWRpdFBvbHlnb24oanNvbikge1xuICAgIGxldCBnZW9Kc29uID0gTC5nZW9Kc29uKGpzb24pO1xuXG4gICAgLy9hdm9pZCB0byBsb3NlIGNoYW5nZXNcbiAgICBpZiAodGhpcy5fZ2V0U2VsZWN0ZWRWTGF5ZXIoKSkge1xuICAgICAgdGhpcy5fc2V0RVBvbHlnb25fVG9fVkdyb3VwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2FkZEVQb2x5Z29uX1RvX1ZHcm91cCgpO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIGxldCBsYXllcnMgPSBnZW9Kc29uLmdldExheWVycygpO1xuXG4gICAgaWYgKGxheWVycy5sZW5ndGggPiAwKSB7XG4gICAgICBsYXllcnMuZm9yRWFjaChsYXllciA9PiB7XG4gICAgICAgIGNvbnN0IGxhdGxuZ3MgPSBsYXllci5nZXRMYXRMbmdzKCk7XG4gICAgICAgIGNvbnN0IHZHcm91cCA9IHRoaXMuZ2V0Vkdyb3VwKCk7XG5cbiAgICAgICAgaWYgKGxheWVyLmZlYXR1cmUuZ2VvbWV0cnkudHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHtcbiAgICAgICAgICBsYXRsbmdzLmZvckVhY2goX2xhdGxuZ3MgPT4ge1xuICAgICAgICAgICAgdkdyb3VwLmFkZExheWVyKEwucG9seWdvbihfbGF0bG5ncywgeyBjbGFzc05hbWU6ICd2aWV3LXBvbHlnb24nIH0pKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZHcm91cC5hZGRMYXllcihMLnBvbHlnb24obGF0bG5ncywgeyBjbGFzc05hbWU6ICd2aWV3LXBvbHlnb24nIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5tb2RlKCdkcmF3Jyk7XG5cbiAgICB0aGlzLl9maXRWQm91bmRzKCk7XG5cbiAgICByZXR1cm4gZ2VvSnNvbjtcbiAgfSxcblxuICBfZ2V0U2VsZWN0ZWRWTGF5ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkVkxheWVyO1xuICB9LFxuICBfc2V0U2VsZWN0ZWRWTGF5ZXIobGF5ZXIpIHtcbiAgICB0aGlzLl9zZWxlY3RlZFZMYXllciA9IGxheWVyO1xuICB9LFxuICBfY2xlYXJTZWxlY3RlZFZMYXllcigpIHtcbiAgICB0aGlzLl9zZWxlY3RlZFZMYXllciA9IHVuZGVmaW5lZDtcbiAgfSxcbiAgX2hpZGVTZWxlY3RlZFZMYXllcihsYXllcikge1xuICAgIGxheWVyLmJyaW5nVG9CYWNrKCk7XG5cbiAgICBpZiAoIWxheWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vc2hvdyBsYXN0IGxheWVyXG4gICAgdGhpcy5fc2hvd1NlbGVjdGVkVkxheWVyKHRoaXMuX2dldFNlbGVjdGVkVkxheWVyKCkpO1xuICAgIC8vaGlkZVxuICAgIHRoaXMuX3NldFNlbGVjdGVkVkxheWVyKGxheWVyKTtcbiAgICBsYXllci5fcGF0aC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gIH0sXG4gIF9zaG93U2VsZWN0ZWRWTGF5ZXIobGF5ZXIgPSB0aGlzLl9zZWxlY3RlZFZMYXllcikge1xuICAgIGlmICghbGF5ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGF5ZXIuX3BhdGguc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICB9LFxuICBfYWRkRVBvbHlnb25fVG9fVkdyb3VwKCkge1xuICAgIGxldCB2R3JvdXAgPSB0aGlzLmdldFZHcm91cCgpO1xuICAgIGxldCBlUG9seWdvbiA9IHRoaXMuZ2V0RVBvbHlnb24oKTtcblxuICAgIC8vIGxldCBob2xlcyA9IGVQb2x5Z29uLmdldEhvbGVzKCk7XG4gICAgbGV0IGxhdGxuZ3MgPSBlUG9seWdvbi5nZXRMYXRMbmdzKCk7XG5cbiAgICBpZiAobGF0bG5ncyAmJiBsYXRsbmdzWzBdICYmIGxhdGxuZ3NbMF0ubGVuZ3RoIDw9IDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2R3JvdXAuYWRkTGF5ZXIoTC5wb2x5Z29uKGxhdGxuZ3MsIHsgY2xhc3NOYW1lOiAndmlldy1wb2x5Z29uJyB9KSk7XG4gIH0sXG4gIF9zZXRFUG9seWdvbl9Ub19WR3JvdXAoKSB7XG4gICAgbGV0IGVQb2x5Z29uID0gdGhpcy5nZXRFUG9seWdvbigpO1xuICAgIGxldCBzZWxlY3RlZFZMYXllciA9IHRoaXMuX2dldFNlbGVjdGVkVkxheWVyKCk7XG5cbiAgICBpZiAoIXNlbGVjdGVkVkxheWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRWTGF5ZXIuX2xhdGxuZ3MgPSBlUG9seWdvbi5nZXRMYXRMbmdzKCk7XG4gICAgLy8gc2VsZWN0ZWRWTGF5ZXIuX2hvbGVzID0gZVBvbHlnb24uZ2V0SG9sZXMoKTtcbiAgICBzZWxlY3RlZFZMYXllci5yZWRyYXcoKTtcbiAgfSxcblxuICBfY29udmVydFRvRWRpdChncm91cCkge1xuICAgIGlmIChncm91cCBpbnN0YW5jZW9mIE1hcmtlckdyb3VwKSB7XG4gICAgICBsZXQgZVBvbHlnb24gPSB0aGlzLmdldEVQb2x5Z29uKCk7XG4gICAgICBsZXQgbGF5ZXJzID0gZ3JvdXAuZ2V0TGF5ZXJzKCk7XG4gICAgICBsYXllcnMgPSBsYXllcnMuZmlsdGVyKChsYXllcikgPT4gIWxheWVyLmlzTWlkZGxlKCkpO1xuICAgICAgbGV0IHBvaW50c0FycmF5ID0gbGF5ZXJzLm1hcCgobGF5ZXIpID0+IGxheWVyLmdldExhdExuZygpKTtcblxuICAgICAgbGV0IGhvbGVzID0gZVBvbHlnb24uZ2V0SG9sZXMoKTtcblxuICAgICAgaWYgKGhvbGVzKSB7XG4gICAgICAgIHBvaW50c0FycmF5ID0gW3BvaW50c0FycmF5XS5jb25jYXQoaG9sZXMpO1xuICAgICAgfVxuXG4gICAgICBlUG9seWdvbi5zZXRMYXRMbmdzKHBvaW50c0FycmF5KTtcbiAgICAgIGVQb2x5Z29uLnJlZHJhdygpO1xuXG4gICAgICByZXR1cm4gZVBvbHlnb247XG4gICAgfVxuICB9LFxuICBfc2V0TW9kZSh0eXBlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgdGhpcy5nZXRFUG9seWdvbigpLnNldFN0eWxlKG9wdGlvbnMuc3R5bGVbdHlwZV0pO1xuICB9LFxuXG4gIF9zZXRNb2RlVHlwZSh0eXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGBtYXAtJHt0aGlzLl9tb2RlVHlwZX1gKTtcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGBtYXAtJHt0aGlzLl9tb2RlVHlwZX1gKTtcblxuICAgICAgdGhpcy5fbW9kZVR5cGUgPSB0eXBlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NoZWNrIFwiX3NldE1vZGVUeXBlXCInKTtcbiAgICB9XG4gIH0sXG4gIF9maXRWQm91bmRzKCkge1xuICAgIGlmICh0aGlzLmdldFZHcm91cCgpLmdldExheWVycygpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhpcy5maXRCb3VuZHModGhpcy5nZXRWR3JvdXAoKS5nZXRCb3VuZHMoKSwge3BhZGRpbmc6IFszMCwgMzBdfSk7XG4gICAgfVxuICB9LFxuICBfY2xlYXJNYXAoKSB7XG4gICAgdGhpcy5nZXRFR3JvdXAoKS5jbGVhckxheWVycygpO1xuICAgIHRoaXMuZ2V0RVBvbHlnb24oKS5jbGVhcigpO1xuICAgIHRoaXMuZ2V0RU1hcmtlcnNHcm91cCgpLmNsZWFyKCk7XG4gICAgbGV0IHNlbGVjdGVkTUdyb3VwID0gdGhpcy5nZXRTZWxlY3RlZE1Hcm91cCgpO1xuXG4gICAgaWYgKHNlbGVjdGVkTUdyb3VwKSB7XG4gICAgICBzZWxlY3RlZE1Hcm91cC5nZXRERUxpbmUoKS5jbGVhcigpO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0RUhNYXJrZXJzR3JvdXAoKS5jbGVhcigpO1xuXG4gICAgdGhpcy5fYWN0aXZlRWRpdExheWVyID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5fc2hvd1NlbGVjdGVkVkxheWVyKCk7XG4gICAgdGhpcy5fY2xlYXJTZWxlY3RlZFZMYXllcigpO1xuICAgIHRoaXMuY2xlYXJTZWxlY3RlZE1hcmtlcigpO1xuICB9LFxuICBfY2xlYXJFdmVudHMoKSB7XG4gICAgdGhpcy5fdW5CaW5kRHJhd0V2ZW50cygpO1xuICB9LFxuICBfbW92ZUVQb2x5Z29uT25Ub3AoKSB7XG4gICAgY29uc3QgZVBvbHlnb24gPSB0aGlzLmdldEVQb2x5Z29uKCk7XG4gICAgY29uc3QgZWxlbWVudCA9IGVQb2x5Z29uLl9jb250YWluZXI7XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlZW5kJywgZWxlbWVudCk7XG4gICAgfVxuICB9LFxuICBfZ2V0R2VvbWV0cnkoZ2VvSnNvbiA9IHt9KSB7XG4gICAgaWYgKGdlb0pzb24uZ2VvbWV0cnkpIHtcbiAgICAgIHJldHVybiBnZW9Kc29uLmdlb21ldHJ5O1xuICAgIH1cblxuICAgIGlmIChnZW9Kc29uLmZlYXR1cmVzICYmIGdlb0pzb24uZmVhdHVyZXNbMF0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRHZW9tZXRyeShnZW9Kc29uLmZlYXR1cmVzWzBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge307XG4gIH1cbn0sIERyYXdFdmVudHMpO1xuIiwiaW1wb3J0IHsgZmlyc3RJY29uLCBtaWRkbGVJY29uIH0gZnJvbSAnLi4vLi4vbWFya2VyLWljb25zLmpzJztcbmltcG9ydCBFVkVOVFMgZnJvbSAnLi4vLi4vZXZlbnQtbmFtZXMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9iaW5kRHJhd0V2ZW50cyAoKSB7XG4gICAgdGhpcy5fdW5CaW5kRHJhd0V2ZW50cygpO1xuXG4gICAgLy8gY2xpY2sgb24gbWFwXG4gICAgdGhpcy5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgLy8gYnVnIGZpeFxuICAgICAgaWYgKGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQuY2xpZW50WCA9PT0gMCAmJiBlLm9yaWdpbmFsRXZlbnQuY2xpZW50WSA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEwuTWFya2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVNYXJrZXJzR3JvdXAgPSBlLnRhcmdldC5nZXRFTWFya2Vyc0dyb3VwKCk7XG5cbiAgICAgIC8vIHN0YXJ0IGFkZCBuZXcgcG9seWdvblxuICAgICAgaWYgKGVNYXJrZXJzR3JvdXAuaXNFbXB0eSgpKSB7XG4gICAgICAgIHRoaXMuX2FkZE1hcmtlcihlKTtcblxuICAgICAgICB0aGlzLmZpcmUoRVZFTlRTLnN0YXJ0X2FkZF9uZXdfcG9seWdvbiwgZSk7XG4gICAgICAgIHZhciBzdGFydERyYXdTdHlsZSA9IHRoaXMub3B0aW9ucy5zdHlsZVsnc3RhcnREcmF3J107XG5cbiAgICAgICAgaWYgKHN0YXJ0RHJhd1N0eWxlKSB7XG4gICAgICAgICAgdGhpcy5nZXRFUG9seWdvbigpLnNldFN0eWxlKHN0YXJ0RHJhd1N0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NsZWFyU2VsZWN0ZWRWTGF5ZXIoKTtcblxuICAgICAgICB0aGlzLnNldFNlbGVjdGVkTUdyb3VwKGVNYXJrZXJzR3JvdXApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIGNvbnRpbnVlIHdpdGggbmV3IHBvbHlnb25cbiAgICAgIHZhciBmaXJzdE1hcmtlciA9IGVNYXJrZXJzR3JvdXAuZ2V0Rmlyc3QoKTtcblxuICAgICAgaWYgKGZpcnN0TWFya2VyICYmIGZpcnN0TWFya2VyLl9oYXNGaXJzdEljb24oKSkge1xuICAgICAgICBpZiAoIShlLnRhcmdldCBpbnN0YW5jZW9mIEwuTWFya2VyKSkge1xuICAgICAgICAgIHRoaXMuX2FkZE1hcmtlcihlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIHN0YXJ0IGRyYXcgbmV3IGhvbGUgcG9seWdvblxuICAgICAgdmFyIGVoTWFya2Vyc0dyb3VwID0gdGhpcy5nZXRFSE1hcmtlcnNHcm91cCgpO1xuICAgICAgdmFyIGxhc3RIb2xlID0gZWhNYXJrZXJzR3JvdXAuZ2V0TGFzdEhvbGUoKTtcbiAgICAgIGlmIChmaXJzdE1hcmtlciAmJiAhZmlyc3RNYXJrZXIuX2hhc0ZpcnN0SWNvbigpKSB7XG4gICAgICAgIGlmICgoZS50YXJnZXQuZ2V0RVBvbHlnb24oKS5fcGF0aCA9PT0gZS5vcmlnaW5hbEV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICBpZiAoIWxhc3RIb2xlIHx8ICFsYXN0SG9sZS5nZXRGaXJzdCgpIHx8ICFsYXN0SG9sZS5nZXRGaXJzdCgpLl9oYXNGaXJzdEljb24oKSkge1xuICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGVkTWFya2VyKCk7XG5cbiAgICAgICAgICAgIHZhciBsYXN0SEdyb3VwID0gZWhNYXJrZXJzR3JvdXAuYWRkSG9sZUdyb3VwKCk7XG4gICAgICAgICAgICBsYXN0SEdyb3VwLnNldChlLmxhdGxuZywgbnVsbCwgeyBpY29uOiBmaXJzdEljb24gfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRNR3JvdXAobGFzdEhHcm91cCk7XG4gICAgICAgICAgICB0aGlzLmZpcmUoRVZFTlRTLnN0YXJ0X2FkZF9uZXdfaG9sZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0RUhNYXJrZXJzR3JvdXAoKS5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5nZXRFTWFya2Vyc0dyb3VwKCkucmVzZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjb250aW51ZSB3aXRoIG5ldyBob2xlIHBvbHlnb25cbiAgICAgIGlmIChsYXN0SG9sZSAmJiAhbGFzdEhvbGUuaXNFbXB0eSgpICYmIGxhc3RIb2xlLmhhc0ZpcnN0TWFya2VyKCkpIHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gZWhNYXJrZXJzR3JvdXAuZ2V0TGFzdEhvbGUoKS5zZXQoZS5sYXRsbmcpO1xuXG4gICAgICAgIHRoaXMuZmlyZShFVkVOVFMuYWRkX2hvbGVfbWFya2VyLCB7IG1hcmtlciB9KTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlc2V0XG5cbiAgICAgIGlmICh0aGlzLl9nZXRTZWxlY3RlZFZMYXllcigpKSB7XG4gICAgICAgIHRoaXMuX3NldEVQb2x5Z29uX1RvX1ZHcm91cCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWRkRVBvbHlnb25fVG9fVkdyb3VwKCk7XG4gICAgICB9XG5cblxuICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICB0aGlzLmZpcmUoRVZFTlRTLm1hcmtlcl9ncm91cF9jbGVhcik7XG4gICAgICB0aGlzLmZpcmUoRVZFTlRTLmNoYW5nZWQsIHsganNvbjogdGhpcy5zYXZlU3RhdGUoKSB9KTtcblxuICAgICAgdGhpcy5tb2RlKCdkcmF3Jyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLm9uKEVWRU5UUy5qb2luX3BhdGgsIChlKSA9PiB7XG4gICAgICB2YXIgZU1hcmtlcnNHcm91cCA9IGUubUdyb3VwO1xuXG4gICAgICBpZiAoIWVNYXJrZXJzR3JvdXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZU1hcmtlcnNHcm91cC5faXNIb2xlKSB7XG4gICAgICAgIHRoaXMuZ2V0RUhNYXJrZXJzR3JvdXAoKS5yZXNldExhc3RIb2xlKCk7XG4gICAgICB9XG4gICAgICAvLzEuIHNldCBtaWRkbGUgbWFya2Vyc1xuICAgICAgdmFyIGxheWVycyA9IGVNYXJrZXJzR3JvdXAuZ2V0TGF5ZXJzKCk7XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IC0xO1xuICAgICAgbGF5ZXJzLmZvckVhY2goKCkgPT4ge1xuICAgICAgICB2YXIgbWFya2VyID0gZU1hcmtlcnNHcm91cC5hZGRNYXJrZXIocG9zaXRpb24sIG51bGwsIHsgaWNvbjogbWlkZGxlSWNvbiB9KTtcbiAgICAgICAgcG9zaXRpb24gPSBtYXJrZXIucG9zaXRpb24gKyAyO1xuICAgICAgfSk7XG5cbiAgICAgIC8vMi4gY2xlYXIgbGluZVxuICAgICAgZU1hcmtlcnNHcm91cC5nZXRERUxpbmUoKS5jbGVhcigpO1xuXG4gICAgICBlTWFya2Vyc0dyb3VwLnNlbGVjdCgpO1xuXG4gICAgICAvL3Jlc2V0IHN0eWxlIGlmICdzdGFydERyYXcnIHdhcyB1c2VkXG4gICAgICB0aGlzLmdldEVQb2x5Z29uKCkuc2V0U3R5bGUodGhpcy5vcHRpb25zLnN0eWxlLmRyYXcpO1xuXG5cbiAgICAgIGlmIChlTWFya2Vyc0dyb3VwLl9pc0hvbGUpIHtcbiAgICAgICAgdGhpcy5maXJlKEVWRU5UUy5ob2xlX2NyZWF0ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5maXJlKEVWRU5UUy5wb2x5Z29uX2NyZWF0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgdkdyb3VwID0gdGhpcy5nZXRWR3JvdXAoKTtcblxuICAgIHZHcm91cC5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRNR3JvdXAgPSB0aGlzLmdldFNlbGVjdGVkTUdyb3VwKCk7XG5cbiAgICAgIGlmICghc2VsZWN0ZWRNR3JvdXAgfHwgIXNlbGVjdGVkTUdyb3VwLmhhc0ZpcnN0TWFya2VyKCkpIHtcblxuICAgICAgICB2R3JvdXAub25DbGljayhlKTtcblxuICAgICAgICB0aGlzLm1zZ0hlbHBlci5tc2codGhpcy5vcHRpb25zLnRleHQuY2xpY2tUb0RyYXdJbm5lckVkZ2VzLCBudWxsLCBlLmxheWVyUG9pbnQpO1xuICAgICAgICB0aGlzLmZpcmUoRVZFTlRTLnBvbHlnb25fc2VsZWN0ZWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5vbihFVkVOVFMuZGVsZXRlX21hcmtlciwgKCkgPT4ge1xuICAgICAgdGhpcy5fY29udmVydFRvRWRpdCh0aGlzLmdldEVNYXJrZXJzR3JvdXAoKSk7XG4gICAgfSk7XG4gICAgdGhpcy5vbihFVkVOVFMuZGVsZXRlX3BvbHlnb24sICgpID0+IHtcbiAgICAgIHRoaXMuZ2V0RUhNYXJrZXJzR3JvdXAoKS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfSxcbiAgX2FkZE1hcmtlciAoeyBsYXRsbmcgfSkge1xuXG4gICAgdmFyIGVNYXJrZXJzR3JvdXAgPSB0aGlzLmdldEVNYXJrZXJzR3JvdXAoKTtcblxuICAgIHZhciBtYXJrZXIgPSBlTWFya2Vyc0dyb3VwLnNldChsYXRsbmcpO1xuXG4gICAgdGhpcy5fY29udmVydFRvRWRpdChlTWFya2Vyc0dyb3VwKTtcblxuICAgIHRoaXMuZmlyZShFVkVOVFMuYWRkX21hcmtlciwgeyBtYXJrZXIgfSk7XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBfdW5CaW5kRHJhd0V2ZW50cyAoKSB7XG4gICAgdGhpcy5vZmYoJ2NsaWNrJyk7XG4gICAgdGhpcy5nZXRWR3JvdXAoKS5vZmYoJ2NsaWNrJyk7XG5cbiAgICB0aGlzLm9mZignZGJsY2xpY2snKTtcblxuICAgIHRoaXMuZ2V0REVMaW5lKCkuY2xlYXIoKTtcblxuICAgIHRoaXMub2ZmKEVWRU5UUy5qb2luX3BhdGgpO1xuXG4gICAgaWYgKHRoaXMuX29wZW5Qb3B1cCkge1xuICAgICAgZGVsZXRlIHRoaXMuX29wZW5Qb3B1cDtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwcmVjaXNpb24gPSBmdW5jdGlvbihudW1iZXIsIHByZWMpIHtcbiAgbGV0IGFycmF5U3RyaW5ncyA9IChgJHtudW1iZXJ9YCkuc3BsaXQoJy4nKTtcbiAgcHJlYyA9IHByZWMgfHwgMDtcblxuICBpZiAoIW51bWJlciB8fCBhcnJheVN0cmluZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuXG4gIGxldCBpc0Zsb2F0ID0gYXJyYXlTdHJpbmdzWzFdLmxlbmd0aCA+IDA7XG5cbiAgbGV0IHJzbHQgPSAwO1xuXG4gIGlmIChpc0Zsb2F0KSB7XG4gICAgbGV0IF9wcmVjID0gKGFycmF5U3RyaW5nc1sxXS5sZW5ndGggPCBwcmVjKSA/IGFycmF5U3RyaW5nc1sxXS5sZW5ndGggOiBwcmVjO1xuICAgIHJzbHQgPSBudW1iZXIudG9QcmVjaXNpb24oYXJyYXlTdHJpbmdzWzBdLmxlbmd0aCArIF9wcmVjKTtcbiAgfVxuXG4gIHJldHVybiBOdW1iZXIocnNsdCk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJlY2lzaW9uR2VvSlNPTiA9IGZ1bmN0aW9uKGdlb0pTT04sIHByZWMgPSAwKSB7XG4gIGxldCBqc29uO1xuICBpZiAoZ2VvSlNPTiA9PT0gbnVsbCB8fCBnZW9KU09OID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSwgbWFrZSBzdXJlIHRoYXQgZmlyc3QgYXJndW1lbnRzIGlzIGdlb0pTT04nKTtcbiAgfVxuXG4gIGlmIChnZW9KU09OLmZlYXR1cmVzICYmIGdlb0pTT04uZmVhdHVyZXNbMF0pIHtcbiAgICBnZW9KU09OLmZlYXR1cmVzID0gZ2VvSlNPTi5mZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiB7XG4gICAgICByZXR1cm4gcHJlY2lzaW9uR2VvSlNPTihmZWF0dXJlLCBwcmVjKTtcbiAgICB9LCBbXSk7XG4gIH1cblxuICBqc29uID0gT2JqZWN0LmFzc2lnbih7fSwgZ2VvSlNPTik7XG5cbiAgaWYgKGpzb24uZ2VvbWV0cnkpIHtcbiAgICBsZXQgeyBnZW9tZXRyeTogeyB0eXBlLCBjb29yZGluYXRlcyB9IH0gPSBqc29uO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UsIG1ha2Ugc3VyZSB0aGF0IGdlb0pTT04gaGFzIGNvcnJlY3Qgc3RydWN0dXJlJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdQb2x5Z29uJykge1xuICAgICAgaWYgKHByZWMgPiAwKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzLmZvckVhY2gob3V0bGV0ID0+IHtcbiAgICAgICAgICBvdXRsZXQuZm9yRWFjaChlZGdlID0+IHtcbiAgICAgICAgICAgIGVkZ2VbMF0gPSBwcmVjaXNpb24oZWRnZVswXSwgcHJlYyk7XG4gICAgICAgICAgICBlZGdlWzFdID0gcHJlY2lzaW9uKGVkZ2VbMV0sIHByZWMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ011bHRpUG9seWdvbicpIHtcbiAgICAgIGlmIChwcmVjID4gMCkge1xuICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKHBvbHlnb24gPT4ge1xuICAgICAgICAgIHBvbHlnb24uZm9yRWFjaChvdXRsZXQgPT4ge1xuICAgICAgICAgICAgb3V0bGV0LmZvckVhY2goZWRnZSA9PiB7XG4gICAgICAgICAgICAgIGVkZ2VbMF0gPSBwcmVjaXNpb24oZWRnZVswXSwgcHJlYyk7XG4gICAgICAgICAgICAgIGVkZ2VbMV0gPSBwcmVjaXNpb24oZWRnZVsxXSwgcHJlYyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGpzb247XG59O1xuIiwiaW1wb3J0IE1hcmtlciBmcm9tICcuLi9tb2Rlcy9lZGl0L21hcmtlci5qcyc7XG5pbXBvcnQgKiBhcyBpY29ucyBmcm9tICcuLi9tYXJrZXItaWNvbnMuanMnO1xuXG5pbXBvcnQgRVZFTlRTIGZyb20gJy4uL2V2ZW50LW5hbWVzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgTC5MYXllckdyb3VwLmV4dGVuZCh7XG4gIGluY2x1ZGVzOiBMLkV2ZW50ZWQsXG5cbiAgX3NlbGVjdGVkOiBmYWxzZSxcbiAgX2xhc3RNYXJrZXI6IHVuZGVmaW5lZCxcbiAgX2ZpcnN0TWFya2VyOiB1bmRlZmluZWQsXG4gIF9wb3NpdGlvbkhhc2g6IHVuZGVmaW5lZCxcbiAgX2xhc3RQb3NpdGlvbjogMCxcbiAgX21hcmtlcnM6IFtdLFxuICBvblJlbW92ZSAoKSB7XG4gICAgdGhpcy5jbGVhckxheWVycygpO1xuICB9LFxuICBjbGVhckxheWVycyAoKSB7XG4gICAgdGhpcy5fbWFya2Vycy5mb3JFYWNoKChtYXJrZXIpID0+IHtcbiAgICAgIHRoaXMuX21hcC5yZW1vdmVMYXllcihtYXJrZXIpO1xuICAgIH0pO1xuICAgIHRoaXMuX21hcmtlcnMgPSBbXTtcbiAgfSxcbiAgYWRkVG8gKG1hcCkge1xuICAgIG1hcC5hZGRMYXllcih0aGlzKTtcbiAgfSxcbiAgYWRkTGF5ZXIgKG1hcmtlcikge1xuICAgIHRoaXMuX21hcC5hZGRMYXllcihtYXJrZXIpO1xuICAgIHRoaXMuX21hcmtlcnMucHVzaChtYXJrZXIpO1xuICAgIGlmIChtYXJrZXIucG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgdGhpcy5fbWFya2Vycy5tb3ZlKHRoaXMuX21hcmtlcnMubGVuZ3RoIC0gMSwgbWFya2VyLnBvc2l0aW9uKTtcbiAgICB9XG4gICAgbWFya2VyLnBvc2l0aW9uID0gKG1hcmtlci5wb3NpdGlvbiAhPSBudWxsKSA/IG1hcmtlci5wb3NpdGlvbiA6IHRoaXMuX21hcmtlcnMubGVuZ3RoIC0gMTtcbiAgfSxcbiAgcmVtb3ZlICgpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgY29uc3QgbWFya2VycyA9IHRoaXMuZ2V0TGF5ZXJzKCk7XG5cbiAgICB0aGlzLmdldERFTGluZSgpLmNsZWFyKCk7XG5cbiAgICBtYXJrZXJzLl9lYWNoKChtYXJrZXIpID0+IHtcbiAgICAgIHdoaWxlICh0aGlzLmdldExheWVycygpLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJlbW92ZU1hcmtlcihtYXJrZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuX2lzSG9sZSkge1xuICAgICAgbWFwLmZpcmUoRVZFTlRTLmhvbGVfZGVsZXRlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcC5nZXRWR3JvdXAoKS5yZW1vdmVMYXllcihtYXAuX2dldFNlbGVjdGVkVkxheWVyKCkpO1xuICAgICAgbWFwLmZpcmUoRVZFTlRTLnBvbHlnb25fZGVsZXRlZCk7XG4gICAgfVxuICB9LFxuICByZW1vdmVMYXllciAobWFya2VyKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gbWFya2VyLnBvc2l0aW9uO1xuICAgIHRoaXMuX21hcC5yZW1vdmVMYXllcihtYXJrZXIpO1xuICAgIHRoaXMuX21hcmtlcnMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgfSxcbiAgZ2V0TGF5ZXJzICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFya2VycztcbiAgfSxcbiAgZWFjaExheWVyIChjYikge1xuICAgIHRoaXMuX21hcmtlcnMuZm9yRWFjaChjYik7XG4gIH0sXG4gIG1hcmtlckF0IChwb3NpdGlvbikge1xuICAgIHZhciByc2x0ID0gdGhpcy5fbWFya2Vyc1twb3NpdGlvbl07XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5maXJzdE1hcmtlcigpO1xuICAgIH1cblxuICAgIGlmIChyc2x0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJzbHQgPSB0aGlzLmxhc3RNYXJrZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcnNsdDtcbiAgfSxcbiAgZmlyc3RNYXJrZXIgKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXJrZXJzWzBdO1xuICB9LFxuICBsYXN0TWFya2VyICgpIHtcbiAgICB2YXIgbWFya2VycyA9IHRoaXMuX21hcmtlcnM7XG4gICAgcmV0dXJuIG1hcmtlcnNbbWFya2Vycy5sZW5ndGggLSAxXTtcbiAgfSxcbiAgcmVtb3ZlTWFya2VyIChtYXJrZXIpIHtcbiAgICB2YXIgYiA9ICFtYXJrZXIuaXNNaWRkbGUoKTtcblxuICAgIHZhciBwcmV2TWFya2VyID0gbWFya2VyLl9wcmV2O1xuICAgIHZhciBuZXh0TWFya2VyID0gbWFya2VyLl9uZXh0O1xuICAgIHZhciBuZXh0bmV4dE1hcmtlciA9IG1hcmtlci5fbmV4dC5fbmV4dDtcbiAgICB0aGlzLnJlbW92ZU1hcmtlckF0KG1hcmtlci5wb3NpdGlvbik7XG4gICAgdGhpcy5yZW1vdmVNYXJrZXJBdChwcmV2TWFya2VyLnBvc2l0aW9uKTtcbiAgICB0aGlzLnJlbW92ZU1hcmtlckF0KG5leHRNYXJrZXIucG9zaXRpb24pO1xuXG4gICAgdmFyIG1hcCA9IHRoaXMuX21hcDtcblxuICAgIGlmICh0aGlzLmdldExheWVycygpLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc2V0TWlkZGxlTWFya2VyKG5leHRuZXh0TWFya2VyLnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGIpIHtcbiAgICAgICAgbWFwLmZpcmUoRVZFTlRTLmRlbGV0ZV9tYXJrZXIsIHsgbWFya2VyOiBtYXJrZXIgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl9pc0hvbGUpIHtcbiAgICAgICAgbWFwLnJlbW92ZUxheWVyKHRoaXMpO1xuICAgICAgICBtYXAuZmlyZShFVkVOVFMuZGVsZXRlX2hvbGUsIHsgbWFya2VyOiBtYXJrZXIgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXAuZmlyZShFVkVOVFMuZGVsZXRlX3BvbHlnb24pO1xuXG4gICAgICAgIG1hcC5yZW1vdmVQb2x5Z29uKG1hcC5nZXRFUG9seWdvbigpKTtcbiAgICAgIH1cbiAgICAgIG1hcC5maXJlKEVWRU5UUy5tYXJrZXJfZ3JvdXBfY2xlYXIpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlTWFya2VyQXQgKHBvc2l0aW9uKSB7XG4gICAgaWYgKHRoaXMuZ2V0TGF5ZXJzKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1hcmtlcjtcbiAgICBpZiAodHlwZW9mIHBvc2l0aW9uID09PSAnbnVtYmVyJykge1xuICAgICAgbWFya2VyID0gdGhpcy5tYXJrZXJBdChwb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgX2NoYW5nZVBvcyA9IGZhbHNlO1xuICAgIHZhciBtYXJrZXJzID0gdGhpcy5fbWFya2VycztcbiAgICBtYXJrZXJzLmZvckVhY2goKF9tYXJrZXIpID0+IHtcbiAgICAgIGlmIChfY2hhbmdlUG9zKSB7XG4gICAgICAgIF9tYXJrZXIucG9zaXRpb24gPSAoX21hcmtlci5wb3NpdGlvbiA9PT0gMCkgPyAwIDogX21hcmtlci5wb3NpdGlvbiAtIDE7XG4gICAgICB9XG4gICAgICBpZiAoX21hcmtlciA9PT0gbWFya2VyKSB7XG4gICAgICAgIG1hcmtlci5fcHJldi5fbmV4dCA9IG1hcmtlci5fbmV4dDtcbiAgICAgICAgbWFya2VyLl9uZXh0Ll9wcmV2ID0gbWFya2VyLl9wcmV2O1xuICAgICAgICBfY2hhbmdlUG9zID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucmVtb3ZlTGF5ZXIobWFya2VyKTtcblxuICAgIGlmIChtYXJrZXJzLmxlbmd0aCA8IDUpIHtcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIGlmICghdGhpcy5faXNIb2xlKSB7XG4gICAgICAgIHZhciBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIG1hcC5nZXRFUG9seWdvbigpLmNsZWFyKCk7XG4gICAgICAgIG1hcC5nZXRWR3JvdXAoKS5yZW1vdmVMYXllcihtYXAuX2dldFNlbGVjdGVkVkxheWVyKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaGFzU3RhcnRNYXJrZXIoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5nZXRMYXllcnMoKS5zb21lKG1hcmtlciA9PiBtYXJrZXIuX2ljb24uY2xhc3NMaXN0LmNvbnRhaW5zKGljb25zLmZpcnN0SWNvbi5vcHRpb25zLmNsYXNzTmFtZSkpO1xuICB9LFxuICBhZGRNYXJrZXIgKGxhdGxuZywgcG9zaXRpb24sIG9wdGlvbnMpIHtcbiAgICAvLyAxLiByZWNhbGN1bGF0ZSBwb3NpdGlvbnNcbiAgICBpZiAodHlwZW9mIGxhdGxuZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHBvc2l0aW9uID0gdGhpcy5tYXJrZXJBdChsYXRsbmcpLnBvc2l0aW9uO1xuICAgICAgdGhpcy5fcmVjYWxjUG9zaXRpb25zKHBvc2l0aW9uKTtcblxuICAgICAgdmFyIHByZXZNYXJrZXIgPSAocG9zaXRpb24gLSAxKSA8IDAgPyB0aGlzLmxhc3RNYXJrZXIoKSA6IHRoaXMubWFya2VyQXQocG9zaXRpb24gLSAxKTtcbiAgICAgIHZhciBuZXh0TWFya2VyID0gdGhpcy5tYXJrZXJBdCgocG9zaXRpb24gPT0gLTEpID8gMSA6IHBvc2l0aW9uKTtcbiAgICAgIGxhdGxuZyA9IHRoaXMuX2dldE1pZGRsZUxhdExuZyhwcmV2TWFya2VyLCBuZXh0TWFya2VyKTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTWFya2VyKHRoaXMsIGxhdGxuZywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIXRoaXMuX2ZpcnN0TWFya2VyKSB7XG4gICAgICB0aGlzLl9maXJzdE1hcmtlciA9IG1hcmtlcjtcbiAgICAgIHRoaXMuX2xhc3RNYXJrZXIgPSBtYXJrZXI7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1hcmtlci5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIH1cblxuICAgIHRoaXMuYWRkTGF5ZXIobWFya2VyKTtcblxuICAgIC8vIG1hcmtlci5iaW5kVG9vbHRpcChcIm15IHRvb2x0aXAgdGV4dFwiKS5vcGVuVG9vbHRpcCgpO1xuXG4gICAge1xuICAgICAgbWFya2VyLnBvc2l0aW9uID0gKG1hcmtlci5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkICkgPyBtYXJrZXIucG9zaXRpb24gOiB0aGlzLl9sYXN0UG9zaXRpb24rKztcbiAgICAgIG1hcmtlci5fcHJldiA9IHRoaXMuX2xhc3RNYXJrZXI7XG4gICAgICB0aGlzLl9maXJzdE1hcmtlci5fcHJldiA9IG1hcmtlcjtcbiAgICAgIGlmIChtYXJrZXIuX3ByZXYpIHtcbiAgICAgICAgdGhpcy5fbGFzdE1hcmtlci5fbmV4dCA9IG1hcmtlcjtcbiAgICAgICAgbWFya2VyLl9uZXh0ID0gdGhpcy5fZmlyc3RNYXJrZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2xhc3RNYXJrZXIgPSBtYXJrZXI7XG4gICAgfVxuXG4gICAgLy8gMi4gcmVjYWxjdWxhdGUgcmVsYXRpb25zXG4gICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX3JlY2FsY1JlbGF0aW9ucyhtYXJrZXIpO1xuICAgIH1cbiAgICAvLyAzLiB0cmlnZ2VyIGV2ZW50XG4gICAgaWYgKCFtYXJrZXIuaXNNaWRkbGUoKSkge1xuICAgICAgdGhpcy5fbWFwLmZpcmUoRVZFTlRTLmJlZm9yZV9hZGRfbWFya2VyLCB7IG1hcmtlcjogbWFya2VyIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrZXI7XG4gIH0sXG4gIGNsZWFyICgpIHtcbiAgICB2YXIgaWRzID0gdGhpcy5faWRzKCk7XG5cbiAgICB0aGlzLmNsZWFyTGF5ZXJzKCk7XG5cbiAgICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIHRoaXMuX2RlbGV0ZUV2ZW50cyhpZCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9sYXN0UG9zaXRpb24gPSAwO1xuXG4gICAgdGhpcy5fZmlyc3RNYXJrZXIgPSB1bmRlZmluZWQ7XG4gIH0sXG4gIF9kZWxldGVFdmVudHMgKGlkKSB7XG4gICAgZGVsZXRlIHRoaXMuX21hcC5fbGVhZmxldF9ldmVudHMudmlld3Jlc2V0X2lkeFtpZF07XG4gICAgZGVsZXRlIHRoaXMuX21hcC5fbGVhZmxldF9ldmVudHMuem9vbWFuaW1faWR4W2lkXTtcbiAgfSxcbiAgX2dldE1pZGRsZUxhdExuZyAobWFya2VyMSwgbWFya2VyMikge1xuICAgIHZhciBtYXAgPSB0aGlzLl9tYXAsXG4gICAgICBwMSA9IG1hcC5wcm9qZWN0KG1hcmtlcjEuZ2V0TGF0TG5nKCkpLFxuICAgICAgcDIgPSBtYXAucHJvamVjdChtYXJrZXIyLmdldExhdExuZygpKTtcblxuICAgIHJldHVybiBtYXAudW5wcm9qZWN0KHAxLl9hZGQocDIpLl9kaXZpZGVCeSgyKSk7XG4gIH0sXG4gIF9yZWNhbGNQb3NpdGlvbnMgKHBvc2l0aW9uKSB7XG4gICAgdmFyIG1hcmtlcnMgPSB0aGlzLl9tYXJrZXJzO1xuXG4gICAgdmFyIGNoYW5nZVBvcyA9IGZhbHNlO1xuICAgIG1hcmtlcnMuZm9yRWFjaCgobWFya2VyLCBfcG9zaXRpb24pID0+IHtcbiAgICAgIGlmIChwb3NpdGlvbiA9PT0gX3Bvc2l0aW9uKSB7XG4gICAgICAgIGNoYW5nZVBvcyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlUG9zKSB7XG4gICAgICAgIHRoaXMuX21hcmtlcnNbX3Bvc2l0aW9uXS5wb3NpdGlvbiArPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBfcmVjYWxjUmVsYXRpb25zICgpIHtcbiAgICB2YXIgbWFya2VycyA9IHRoaXMuX21hcmtlcnM7XG5cbiAgICBtYXJrZXJzLmZvckVhY2goKG1hcmtlciwgcG9zaXRpb24pID0+IHtcblxuICAgICAgbWFya2VyLl9wcmV2ID0gdGhpcy5tYXJrZXJBdChwb3NpdGlvbiAtIDEpO1xuICAgICAgbWFya2VyLl9uZXh0ID0gdGhpcy5tYXJrZXJBdChwb3NpdGlvbiArIDEpO1xuXG4gICAgICAvLyBmaXJzdFxuICAgICAgaWYgKHBvc2l0aW9uID09PSAwKSB7XG4gICAgICAgIG1hcmtlci5fcHJldiA9IHRoaXMubGFzdE1hcmtlcigpO1xuICAgICAgICBtYXJrZXIuX25leHQgPSB0aGlzLm1hcmtlckF0KDEpO1xuICAgICAgfVxuXG4gICAgICAvLyBsYXN0XG4gICAgICBpZiAocG9zaXRpb24gPT09IG1hcmtlcnMubGVuZ3RoIC0gMSkge1xuICAgICAgICBtYXJrZXIuX3ByZXYgPSB0aGlzLm1hcmtlckF0KHBvc2l0aW9uIC0gMSk7XG4gICAgICAgIG1hcmtlci5fbmV4dCA9IHRoaXMubWFya2VyQXQoMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIF9pZHMgKCkge1xuICAgIHZhciByc2x0ID0gW107XG5cbiAgICBmb3IgKGxldCBpZCBpbiB0aGlzLl9sYXllcnMpIHtcbiAgICAgIHJzbHQucHVzaChpZCk7XG4gICAgfVxuXG4gICAgcnNsdC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG5cbiAgICByZXR1cm4gcnNsdDtcbiAgfSxcbiAgc2VsZWN0ICgpIHtcbiAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgIGlmICh0aGlzLl9tYXApIHtcbiAgICAgICAgdGhpcy5fbWFwLmNsZWFyU2VsZWN0ZWRNR3JvdXAoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgICBpZiAodGhpcy5faXNIb2xlKSB7XG4gICAgICAgIG1hcC5nZXRFSE1hcmtlcnNHcm91cCgpLnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIG1hcC5nZXRFTWFya2Vyc0dyb3VwKCkucmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgbWFwLmdldEVITWFya2Vyc0dyb3VwKCkuc2V0TGFzdEhvbGUodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXAuZ2V0RUhNYXJrZXJzR3JvdXAoKS5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICBtYXAuZ2V0RUhNYXJrZXJzR3JvdXAoKS5yZXNldExhc3RIb2xlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ2V0TGF5ZXJzKCkuX2VhY2goKG1hcmtlcikgPT4ge1xuICAgICAgICBtYXJrZXIuZW5hYmxlRHJhZygpO1xuICAgICAgICBtYXJrZXIuc2VsZWN0SWNvbkluR3JvdXAoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2VsZWN0ZWQgPSB0cnVlO1xuXG5cbiAgICAgIHRoaXMuX21hcC5zZXRTZWxlY3RlZE1Hcm91cCh0aGlzKTtcbiAgICAgIHRoaXMuX21hcC5maXJlKEVWRU5UUy5tYXJrZXJfZ3JvdXBfc2VsZWN0KTtcbiAgICB9XG4gIH0sXG4gIGlzU2VsZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xuICB9LFxuICBpc0VtcHR5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRMYXllcnMoKS5sZW5ndGggPT09IDA7XG4gIH0sXG4gIHJlc2V0U2VsZWN0aW9uICgpIHtcbiAgICB0aGlzLmdldExheWVycygpLl9lYWNoKChtYXJrZXIpID0+IHtcbiAgICAgIG1hcmtlci5kaXNhYmxlRHJhZygpO1xuICAgICAgbWFya2VyLnVuU2VsZWN0SWNvbkluR3JvdXAoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NlbGVjdGVkID0gZmFsc2U7XG4gIH1cbn0pXG4iLCJpbXBvcnQgeyBpY29uIH0gZnJvbSAnLi4vLi4vbWFya2VyLWljb25zLmpzJztcblxuaW1wb3J0IEVWRU5UUyBmcm9tICcuLi8uLi9ldmVudC1uYW1lcy5qcyc7XG5cbnZhciBzaXplID0gMTtcbnZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbmlmICh1c2VyQWdlbnQuaW5kZXhPZignaXBhZCcpICE9PSAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignaXBob25lJykgIT09IC0xKSB7XG4gIHNpemUgPSAyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMLk1hcmtlci5leHRlbmQoe1xuICBfZHJhZ2dhYmxlOiB1bmRlZmluZWQsIC8vIGFuIGluc3RhbmNlIG9mIEwuRHJhZ2dhYmxlXG4gIF9vbGRMYXRMbmdTdGF0ZTogdW5kZWZpbmVkLFxuICBpbml0aWFsaXplKGdyb3VwLCBsYXRsbmcsIG9wdGlvbnMgPSB7fSkge1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgaWNvbjogaWNvbixcbiAgICAgIGRyYWdnYWJsZTogZmFsc2VcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIEwuTWFya2VyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgbGF0bG5nLCBvcHRpb25zKTtcblxuICAgIHRoaXMuX21Hcm91cCA9IGdyb3VwO1xuXG4gICAgdGhpcy5faXNGaXJzdCA9IGdyb3VwLmdldExheWVycygpLmxlbmd0aCA9PT0gMDtcbiAgfSxcblxuICBlbmFibGVEcmFnKCkge1xuICAgIHRoaXMuZHJhZ2dpbmcuZW5hYmxlKCk7XG4gIH0sXG4gIGRpc2FibGVEcmFnKCkge1xuICAgIHRoaXMuZHJhZ2dpbmcuZGlzYWJsZSgpO1xuICB9LFxuICBncm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbUdyb3VwO1xuICB9LFxuXG4gIG5leHQoKSB7XG4gICAgdmFyIG5leHQgPSB0aGlzLl9uZXh0Ll9uZXh0O1xuICAgIGlmICghdGhpcy5fbmV4dC5pc01pZGRsZSgpKSB7XG4gICAgICBuZXh0ID0gdGhpcy5fbmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG4gIH0sXG4gIHByZXYoKSB7XG4gICAgdmFyIHByZXYgPSB0aGlzLl9wcmV2Ll9wcmV2O1xuICAgIGlmICghdGhpcy5fcHJldi5pc01pZGRsZSgpKSB7XG4gICAgICBwcmV2ID0gdGhpcy5fcHJldjtcbiAgICB9XG4gICAgcmV0dXJuIHByZXY7XG4gIH0sXG4gIGNoYW5nZVByZXZOZXh0UG9zKCkge1xuICAgIGlmICh0aGlzLl9wcmV2LmlzTWlkZGxlKCkpIHtcblxuICAgICAgdmFyIHByZXZMYXRMbmcgPSB0aGlzLmdyb3VwKCkuX2dldE1pZGRsZUxhdExuZyh0aGlzLnByZXYoKSwgdGhpcyk7XG4gICAgICB2YXIgbmV4dExhdExuZyA9IHRoaXMuZ3JvdXAoKS5fZ2V0TWlkZGxlTGF0TG5nKHRoaXMsIHRoaXMubmV4dCgpKTtcblxuICAgICAgdGhpcy5fcHJldi5zZXRMYXRMbmcocHJldkxhdExuZyk7XG4gICAgICB0aGlzLl9uZXh0LnNldExhdExuZyhuZXh0TGF0TG5nKTtcbiAgICB9XG4gIH0sXG4gIF9yZXNldEljb24oX2ljb24pIHtcbiAgICBpZiAodGhpcy5faGFzRmlyc3RJY29uKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGljID0gX2ljb24gfHwgaWNvbjtcblxuICAgIHRoaXMuc2V0SWNvbihpYyk7XG4gICAgdGhpcy5wcmV2KCkuc2V0SWNvbihpYyk7XG4gICAgdGhpcy5uZXh0KCkuc2V0SWNvbihpYyk7XG4gIH0sXG5cbiAgX2FkZEljb25DbGFzcyhjbGFzc05hbWUpIHtcbiAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faWNvbiwgY2xhc3NOYW1lKTtcbiAgfSxcbiAgX3JlbW92ZUljb25DbGFzcyhjbGFzc05hbWUpIHtcbiAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5faWNvbiwgY2xhc3NOYW1lKTtcbiAgfSxcbiAgX2hhc0ZpcnN0SWNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faWNvbiAmJiBMLkRvbVV0aWwuaGFzQ2xhc3ModGhpcy5faWNvbiwgJ20tZWRpdG9yLWRpdi1pY29uLWZpcnN0Jyk7XG4gIH0sXG4gIGlzTWlkZGxlKCkge1xuICAgIHJldHVybiB0aGlzLl9pY29uICYmIEwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLl9pY29uLCAnbS1lZGl0b3ItbWlkZGxlLWRpdi1pY29uJylcbiAgICAgICYmICFMLkRvbVV0aWwuaGFzQ2xhc3ModGhpcy5faWNvbiwgJ2xlYWZsZXQtZHJhZy10YXJnZXQnKTtcbiAgfSxcbiAgX3NldERyYWdJY29uKCkge1xuICAgIHRoaXMuX3JlbW92ZUljb25DbGFzcygnbS1lZGl0b3ItZGl2LWljb24nKTtcbiAgICB0aGlzLl9yZW1vdmVJY29uQ2xhc3MoJ20tZWRpdG9yLW1pZGRsZS1kaXYtaWNvbicpO1xuICAgIHRoaXMuX2FkZEljb25DbGFzcygnbS1lZGl0b3ItZGl2LWljb24tZHJhZycpO1xuXG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfSxcbiAgaXNQbGFpbigpIHtcbiAgICByZXR1cm4gTC5Eb21VdGlsLmhhc0NsYXNzKHRoaXMuX2ljb24sICdtLWVkaXRvci1kaXYtaWNvbicpO1xuICB9LFxuICBfb25jZUNsaWNrKCkge1xuICAgIGlmICh0aGlzLl9pc0ZpcnN0KSB7XG4gICAgICB0aGlzLm9uY2UoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9oYXNGaXJzdEljb24oKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgICAgIGNvbnN0IG1Hcm91cCA9IHRoaXMuZ3JvdXAoKTtcblxuICAgICAgICBpZiAobUdyb3VwLl9tYXJrZXJzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICB0aGlzLl9vbmNlQ2xpY2soKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc0ZpcnN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0SWNvbihpY29uKTtcbiAgICAgICAgbWFwLmZpcmUoRVZFTlRTLmpvaW5fcGF0aCwge21Hcm91cDogbUdyb3VwfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGlzQWNjZXB0ZWRUb0RlbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLm9wdGlvbnMubm90aWZ5Q2xpY2tNYXJrZXJEZWxldGVQb2x5Z29uICYmXG4gICAgICAhdGhpcy5pc01pZGRsZSgpICYmXG4gICAgICB0aGlzLmlzU2VsZWN0ZWRJbkdyb3VwKCkgJiZcbiAgICAgIHRoaXMuX21hcC5nZXRTZWxlY3RlZE1hcmtlcigpID09PSB0aGlzICYmXG4gICAgICB0aGlzLmdyb3VwKCkuaGFzTWluaW1hbE1hcmtlcnNMZW5ndGgoKTtcbiAgfSxcbiAgbmVlZEFjY2VwdFRvRGVsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXAub3B0aW9ucy5ub3RpZnlDbGlja01hcmtlckRlbGV0ZVBvbHlnb24gJiZcbiAgICAgICF0aGlzLmlzTWlkZGxlKCkgJiZcbiAgICAgIHRoaXMuaXNTZWxlY3RlZEluR3JvdXAoKSAmJlxuICAgICAgdGhpcy5fbWFwLmdldFNlbGVjdGVkTWFya2VyKCkgIT09IHRoaXMgJiZcbiAgICAgIHRoaXMuZ3JvdXAoKS5oYXNNaW5pbWFsTWFya2Vyc0xlbmd0aCgpO1xuICB9LFxuICBfZGlzYWxsb3dUb0V4ZWN1dGVFdmVudCgpIHtcbiAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG4gICAgbGV0IHNlbGVjdGVkTUdyb3VwO1xuXG4gICAgaWYgKG1hcCkge1xuICAgICAgc2VsZWN0ZWRNR3JvdXAgPSBtYXAuZ2V0U2VsZWN0ZWRNR3JvdXAoKVxuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RlZE1Hcm91cCAmJiBzZWxlY3RlZE1Hcm91cC5oYXNGaXJzdE1hcmtlcigpICYmIHNlbGVjdGVkTUdyb3VwICE9PSB0aGlzLmdyb3VwKCk7XG4gIH0sXG4gIF9iaW5kRXZlbnRzKCkge1xuXG4gICAgdGhpcy5vbignZHJhZ3N0YXJ0JywgZSA9PiB7XG4gICAgICB0aGlzLl9zZXREcmFnSWNvbigpO1xuXG4gICAgICB0aGlzLmdyb3VwKCkuc2V0U2VsZWN0ZWQodGhpcyk7XG4gICAgICB0aGlzLl9vbGRMYXRMbmdTdGF0ZSA9IGUudGFyZ2V0Ll9sYXRsbmc7XG5cbiAgICAgIGlmICh0aGlzLl9wcmV2LmlzUGxhaW4oKSkge1xuICAgICAgICB0aGlzLmdyb3VwKCkuc2V0TWlkZGxlTWFya2Vycyh0aGlzLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbWFwLmZpcmUoRVZFTlRTLm1hcmtlcl9kcmFnc3RhcnQpO1xuXG4gICAgICB0aGlzLl9fZHJhZ2dpbmcgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBtR3JvdXAgPSB0aGlzLmdyb3VwKCk7XG4gICAgICBjb25zdCBtYXAgPSB0aGlzLl9tYXA7XG5cbiAgICAgIGlmICh0aGlzLl9kaXNhbGxvd1RvRXhlY3V0ZUV2ZW50KCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5uZWVkQWNjZXB0VG9EZWxldGUoKSkge1xuICAgICAgICBtR3JvdXAuc2V0U2VsZWN0ZWQodGhpcyk7XG4gICAgICAgIG1hcC5tc2dIZWxwZXIubXNnKG1hcC5vcHRpb25zLnRleHQuYWNjZXB0RGVsZXRpb24sICdlcnJvcicsIHRoaXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChtR3JvdXAuaGFzRmlyc3RNYXJrZXIoKSAmJiB0aGlzICE9PSBtR3JvdXAuZ2V0Rmlyc3QoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9oYXNGaXJzdEljb24oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG1Hcm91cC5zZXRTZWxlY3RlZCh0aGlzKTtcbiAgICAgIGlmICh0aGlzLl9oYXNGaXJzdEljb24oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChtR3JvdXAuZ2V0Rmlyc3QoKS5faGFzRmlyc3RJY29uKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNTZWxlY3RlZEluR3JvdXAoKSkge1xuICAgICAgICBtR3JvdXAuc2VsZWN0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNNaWRkbGUoKSkge1xuICAgICAgICAgIG1hcC5tc2dIZWxwZXIubXNnKG1hcC5vcHRpb25zLnRleHQuY2xpY2tUb0FkZE5ld0VkZ2VzLCBudWxsLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXAubXNnSGVscGVyLm1zZyhtYXAub3B0aW9ucy50ZXh0LmNsaWNrVG9SZW1vdmVBbGxTZWxlY3RlZEVkZ2VzLCBudWxsLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQWNjZXB0ZWRUb0RlbGV0ZSgpKSB7XG4gICAgICAgICAgbWFwLm1zZ0hlbHBlci5tc2cobWFwLm9wdGlvbnMudGV4dC5hY2NlcHREZWxldGlvbiwgJ2Vycm9yJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzTWlkZGxlKCkpIHsgLy9hZGQgdmVydGV4XG4gICAgICAgIG1Hcm91cC5zZXRNaWRkbGVNYXJrZXJzKHRoaXMucG9zaXRpb24pO1xuICAgICAgICB0aGlzLl9yZXNldEljb24oaWNvbik7XG4gICAgICAgIG1Hcm91cC5zZWxlY3QoKTtcbiAgICAgICAgbWFwLm1zZ0hlbHBlci5tc2cobWFwLm9wdGlvbnMudGV4dC5jbGlja1RvUmVtb3ZlQWxsU2VsZWN0ZWRFZGdlcywgbnVsbCwgdGhpcyk7XG5cbiAgICAgICAgbWFwLmNsZWFyU2VsZWN0ZWRNYXJrZXIoKTtcblxuICAgICAgfSBlbHNlIHsgLy9yZW1vdmUgdmVydGV4XG4gICAgICAgIGlmICghbUdyb3VwLmdldEZpcnN0KCkuX2hhc0ZpcnN0SWNvbigpKSB7XG4gICAgICAgICAgbWFwLm1zZ0hlbHBlci5oaWRlKCk7XG5cbiAgICAgICAgICBtR3JvdXAucmVtb3ZlTWFya2VyKHRoaXMpO1xuXG4gICAgICAgICAgaWYgKG1Hcm91cC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGlmIChtR3JvdXAuX2lzSG9sZSkge1xuICAgICAgICAgICAgICBtYXAuZmlyZShFVkVOVFMuaG9sZV9kZWxldGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1hcC5maXJlKEVWRU5UUy5wb2x5Z29uX2RlbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwLm1zZ0hlbHBlci5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1Hcm91cC5zZWxlY3QoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5vbignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nLl9lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ21vdXNlb3ZlcicsIChlKSA9PiB7XG4gICAgICBlLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGVkTWFya2VyID0gdGhpcy5fbWFwLmdldFNlbGVjdGVkTWFya2VyKCk7XG4gICAgICBjb25zdCBzZWxlY3RlZE1hcmtlckRyYWdnaW5nID0gISEoc2VsZWN0ZWRNYXJrZXIgJiYgc2VsZWN0ZWRNYXJrZXIuX19kcmFnZ2luZyk7XG5cbiAgICAgIGlmICh0aGlzLl9kaXNhbGxvd1RvRXhlY3V0ZUV2ZW50KCkgfHwgc2VsZWN0ZWRNYXJrZXJEcmFnZ2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICAgIGlmICh0aGlzLmdyb3VwKCkuZ2V0Rmlyc3QoKS5faGFzRmlyc3RJY29uKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JvdXAoKS5nZXRMYXllcnMoKS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2hhc0ZpcnN0SWNvbigpKSB7XG4gICAgICAgICAgICBtYXAuZmlyZShFVkVOVFMuZmlyc3RfbWFya2VyX21vdXNlb3Zlciwge21hcmtlcjogdGhpc30pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcyA9PT0gdGhpcy5ncm91cCgpLl9sYXN0TWFya2VyKSB7XG4gICAgICAgICAgICBtYXAuZmlyZShFVkVOVFMubGFzdF9tYXJrZXJfZGJsY2xpY2tfbW91c2VvdmVyLCB7bWFya2VyOiB0aGlzfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkSW5Hcm91cCgpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNNaWRkbGUoKSkge1xuICAgICAgICAgICAgbWFwLmZpcmUoRVZFTlRTLnNlbGVjdGVkX21pZGRsZV9tYXJrZXJfbW91c2VvdmVyLCB7bWFya2VyOiB0aGlzfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcC5maXJlKEVWRU5UUy5zZWxlY3RlZF9tYXJrZXJfbW91c2VvdmVyLCB7bWFya2VyOiB0aGlzfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcC5maXJlKEVWRU5UUy5ub3Rfc2VsZWN0ZWRfbWFya2VyX21vdXNlb3Zlciwge21hcmtlcjogdGhpc30pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc0FjY2VwdGVkVG9EZWxldGUoKSkge1xuICAgICAgICBtYXAubXNnSGVscGVyLm1zZyhtYXAub3B0aW9ucy50ZXh0LmFjY2VwdERlbGV0aW9uLCAnZXJyb3InLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLm9uKCdtb3VzZW91dCcsIChlKSA9PiB7XG4gICAgICBlLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGNvbnN0IHNlbGVjdGVkTWFya2VyID0gdGhpcy5fbWFwLmdldFNlbGVjdGVkTWFya2VyKCk7XG4gICAgICBjb25zdCBzZWxlY3RlZE1hcmtlckRyYWdnaW5nID0gISEoc2VsZWN0ZWRNYXJrZXIgJiYgc2VsZWN0ZWRNYXJrZXIuX19kcmFnZ2luZyk7XG5cbiAgICAgIGlmICh0aGlzLl9kaXNhbGxvd1RvRXhlY3V0ZUV2ZW50KCkgfHwgc2VsZWN0ZWRNYXJrZXJEcmFnZ2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX21hcC5maXJlKEVWRU5UUy5tYXJrZXJfbW91c2VvdXQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fb25jZUNsaWNrKCk7XG5cbiAgICB0aGlzLm9uKCdkYmxjbGljaycsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9kaXNhbGxvd1RvRXhlY3V0ZUV2ZW50KCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbUdyb3VwID0gdGhpcy5ncm91cCgpO1xuICAgICAgaWYgKG1Hcm91cCAmJiBtR3JvdXAuZ2V0Rmlyc3QoKSAmJiBtR3JvdXAuZ2V0Rmlyc3QoKS5faGFzRmlyc3RJY29uKCkpIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG1Hcm91cC5fbGFzdE1hcmtlcikge1xuICAgICAgICAgIG1Hcm91cC5nZXRGaXJzdCgpLmZpcmUoJ2NsaWNrJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2RyYWcnLCAoZSkgPT4ge1xuICAgICAgdGhpcy5fb25EcmFnKGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignZHJhZ2VuZCcsIChlKSA9PiB7XG4gICAgICB0aGlzLl9vbkRyYWdFbmQoZSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgb25BZGQobWFwKSB7XG4gICAgTC5NYXJrZXIucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcblxuICAgIHRoaXMuX2JpbmRFdmVudHMobWFwKTtcbiAgfSxcbiAgX29uRHJhZyhlKSB7XG4gICAgY29uc3QgbWFya2VyID0gZS50YXJnZXQ7XG5cbiAgICBtYXJrZXIuY2hhbmdlUHJldk5leHRQb3MoKTtcblxuICAgIGNvbnN0IG1hcCA9IHRoaXMuX21hcDtcbiAgICBtYXAuX2NvbnZlcnRUb0VkaXQobWFwLmdldEVNYXJrZXJzR3JvdXAoKSk7XG5cbiAgICB0aGlzLl9zZXREcmFnSWNvbigpO1xuXG4gICAgbWFwLmZpcmUoRVZFTlRTLmRyYWdfbWFya2VyLCB7bWFya2VyOiB0aGlzfSk7XG4gIH0sXG4gIF9vbkRyYWdFbmQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmdyb3VwKCkuc2VsZWN0KCk7XG4gICAgICB0aGlzLl9tYXAuZmlyZShFVkVOVFMuZHJhZ2VuZF9tYXJrZXIsIHttYXJrZXI6IHRoaXN9KTtcblxuICAgICAgdGhpcy5fbWFwLmZpcmUoRVZFTlRTLnNlbGVjdGVkX21hcmtlcl9tb3VzZW92ZXIsIHttYXJrZXI6IHRoaXN9KTtcblxuICAgICAgdGhpcy5yZXNldFN0eWxlKCk7XG4gICAgfSwgMSk7XG4gIH0sXG4gIHJlc2V0SWNvbigpIHtcbiAgICB0aGlzLl9yZW1vdmVJY29uQ2xhc3MoJ20tZWRpdG9yLWRpdi1pY29uLWRyYWcnKTtcbiAgfSxcbiAgdW5TZWxlY3RJY29uSW5Hcm91cCgpIHtcbiAgICB0aGlzLl9yZW1vdmVJY29uQ2xhc3MoJ2dyb3VwLXNlbGVjdGVkJyk7XG4gIH0sXG4gIF9zZWxlY3RJY29uSW5Hcm91cCgpIHtcbiAgICBpZiAoIXRoaXMuaXNNaWRkbGUoKSkge1xuICAgICAgdGhpcy5fYWRkSWNvbkNsYXNzKCdtLWVkaXRvci1kaXYtaWNvbicpO1xuICAgIH1cbiAgICB0aGlzLl9hZGRJY29uQ2xhc3MoJ2dyb3VwLXNlbGVjdGVkJyk7XG4gIH0sXG4gIHNlbGVjdEljb25Jbkdyb3VwKCkge1xuICAgIGlmICh0aGlzLl9wcmV2KSB7XG4gICAgICB0aGlzLl9wcmV2Ll9zZWxlY3RJY29uSW5Hcm91cCgpO1xuICAgIH1cbiAgICB0aGlzLl9zZWxlY3RJY29uSW5Hcm91cCgpO1xuICAgIGlmICh0aGlzLl9uZXh0KSB7XG4gICAgICB0aGlzLl9uZXh0Ll9zZWxlY3RJY29uSW5Hcm91cCgpO1xuICAgIH1cbiAgfSxcbiAgaXNTZWxlY3RlZEluR3JvdXAoKSB7XG4gICAgcmV0dXJuIEwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLl9pY29uLCAnZ3JvdXAtc2VsZWN0ZWQnKTtcbiAgfSxcbiAgb25SZW1vdmUobWFwKSB7XG4gICAgdGhpcy5vZmYoJ21vdXNlb3V0Jyk7XG5cbiAgICBMLk1hcmtlci5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuICB9LFxuXG4gIHJlc2V0U3R5bGUoKSB7XG4gICAgdGhpcy5yZXNldEljb24oKTtcbiAgICB0aGlzLnNlbGVjdEljb25Jbkdyb3VwKCk7XG4gIH1cbn0pO1xuIiwiaW1wb3J0IE1zZ0hlbHBlciBmcm9tICcuLi9leHRlbmRlZC9Nc2dIZWxwZXIuanMnO1xuaW1wb3J0IG0gZnJvbSAnLi4vdXRpbHMvbW9iaWxlLmpzJztcblxuaW1wb3J0IEVWRU5UUyBmcm9tICcuLi9ldmVudC1uYW1lcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcblxuICB0aGlzLnRvdWNoWm9vbS5kaXNhYmxlKCk7XG4gIHRoaXMuZG91YmxlQ2xpY2tab29tLmRpc2FibGUoKTtcblxuICB0aGlzLmJveFpvb20uZGlzYWJsZSgpO1xuICB0aGlzLmtleWJvYXJkLmRpc2FibGUoKTtcblxuICB2YXIgbXNnSGVscGVyID0gdGhpcy5tc2dIZWxwZXIgPSBuZXcgTXNnSGVscGVyKHtcbiAgICBkZWZhdWx0TXNnOiB0aGlzLm9wdGlvbnMudGV4dC5jbGlja1RvU3RhcnREcmF3UG9seWdvbk9uTWFwLFxuICB9KTtcblxuICB0aGlzLm9uKCdtc2dIZWxwZXJBZGRlZCcsICgpID0+IHtcblxuICAgIHZhciB0ZXh0ID0gdGhpcy5vcHRpb25zLnRleHQ7XG5cbiAgICB0aGlzLm9uKEVWRU5UUy5tYXJrZXJfZ3JvdXBfc2VsZWN0LCAoKSA9PiB7XG5cbiAgICAgIGNvbnN0IF9kaXNhbGxvd1RvRXhlY3V0ZUV2ZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RlZE1Hcm91cCA9IHRoaXMuZ2V0U2VsZWN0ZWRNR3JvdXAoKTtcblxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRNR3JvdXAgJiYgc2VsZWN0ZWRNR3JvdXAuaGFzRmlyc3RNYXJrZXIoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMub2ZmKEVWRU5UUy5ub3Rfc2VsZWN0ZWRfbWFya2VyX21vdXNlb3Zlcik7XG4gICAgICB0aGlzLm9uKEVWRU5UUy5ub3Rfc2VsZWN0ZWRfbWFya2VyX21vdXNlb3ZlciwgKGRhdGEpID0+IHtcbiAgICAgICAgbXNnSGVscGVyLm1zZyh0ZXh0LmNsaWNrVG9TZWxlY3RFZGdlcywgbnVsbCwgZGF0YS5tYXJrZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMub2ZmKEVWRU5UUy5zZWxlY3RlZF9tYXJrZXJfbW91c2VvdmVyKTtcbiAgICAgIHRoaXMub24oRVZFTlRTLnNlbGVjdGVkX21hcmtlcl9tb3VzZW92ZXIsIChkYXRhKSA9PiB7XG4gICAgICAgIG1zZ0hlbHBlci5tc2codGV4dC5jbGlja1RvUmVtb3ZlQWxsU2VsZWN0ZWRFZGdlcywgbnVsbCwgZGF0YS5tYXJrZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMub2ZmKEVWRU5UUy5zZWxlY3RlZF9taWRkbGVfbWFya2VyX21vdXNlb3Zlcik7XG4gICAgICB0aGlzLm9uKEVWRU5UUy5zZWxlY3RlZF9taWRkbGVfbWFya2VyX21vdXNlb3ZlciwgKGRhdGEpID0+IHtcbiAgICAgICAgbXNnSGVscGVyLm1zZyh0ZXh0LmNsaWNrVG9BZGROZXdFZGdlcywgbnVsbCwgZGF0YS5tYXJrZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIG9uIGVkaXQgcG9seWdvblxuICAgICAgdGhpcy5vZmYoRVZFTlRTLmVkaXRfcG9seWdvbl9tb3VzZW1vdmUpO1xuICAgICAgdGhpcy5vbihFVkVOVFMuZWRpdF9wb2x5Z29uX21vdXNlbW92ZSwgKGRhdGEpID0+IHtcbiAgICAgICAgbXNnSGVscGVyLm1zZyh0ZXh0LmNsaWNrVG9EcmF3SW5uZXJFZGdlcywgbnVsbCwgZGF0YS5sYXllclBvaW50KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLm9mZihFVkVOVFMuZWRpdF9wb2x5Z29uX21vdXNlb3V0KTtcbiAgICAgIHRoaXMub24oRVZFTlRTLmVkaXRfcG9seWdvbl9tb3VzZW91dCwgKCkgPT4ge1xuICAgICAgICBtc2dIZWxwZXIuaGlkZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIG9uIHZpZXcgcG9seWdvblxuICAgICAgdGhpcy5vZmYoRVZFTlRTLnZpZXdfcG9seWdvbl9tb3VzZW1vdmUpO1xuICAgICAgdGhpcy5vbihFVkVOVFMudmlld19wb2x5Z29uX21vdXNlbW92ZSwgKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKF9kaXNhbGxvd1RvRXhlY3V0ZUV2ZW50KCkpIHtcbiAgICAgICAgICBtc2dIZWxwZXIuaGlkZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1zZ0hlbHBlci5tc2codGV4dC5jbGlja1RvRWRpdCwgbnVsbCwgZGF0YS5sYXllclBvaW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMub2ZmKEVWRU5UUy52aWV3X3BvbHlnb25fbW91c2VvdXQpO1xuICAgICAgdGhpcy5vbihFVkVOVFMudmlld19wb2x5Z29uX21vdXNlb3V0LCAoKSA9PiB7XG4gICAgICAgIG1zZ0hlbHBlci5oaWRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIGhpZGUgbXNnXG4gICAgdGhpcy5vZmYoRVZFTlRTLm1hcmtlcl9tb3VzZW91dCk7XG4gICAgdGhpcy5vbihFVkVOVFMubWFya2VyX21vdXNlb3V0LCAoKSA9PiB7XG4gICAgICBtc2dIZWxwZXIuaGlkZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbihFVkVOVFMubWFya2VyX2RyYWdzdGFydCwgKCkgPT4ge1xuICAgICAgbXNnSGVscGVyLmhpZGUoKTtcbiAgICB9KTtcblxuICAgIC8vIG9uIHN0YXJ0IGRyYXcgcG9seWdvblxuICAgIHRoaXMub2ZmKEVWRU5UUy5maXJzdF9tYXJrZXJfbW91c2VvdmVyKTtcbiAgICB0aGlzLm9uKEVWRU5UUy5maXJzdF9tYXJrZXJfbW91c2VvdmVyLCAoZGF0YSkgPT4ge1xuICAgICAgbXNnSGVscGVyLm1zZyh0ZXh0LmNsaWNrVG9Kb2luRWRnZXMsIG51bGwsIGRhdGEubWFya2VyKTtcbiAgICB9KTtcblxuICAgIC8vIGRibGNsaWNrIHRvIGpvaW5cbiAgICB0aGlzLm9mZihFVkVOVFMubGFzdF9tYXJrZXJfZGJsY2xpY2tfbW91c2VvdmVyKTtcbiAgICB0aGlzLm9uKEVWRU5UUy5sYXN0X21hcmtlcl9kYmxjbGlja19tb3VzZW92ZXIsIChkYXRhKSA9PiB7XG4gICAgICBtc2dIZWxwZXIubXNnKHRleHQuZGJsY2xpY2tUb0pvaW5FZGdlcywgbnVsbCwgZGF0YS5tYXJrZXIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbihFVkVOVFMuam9pbl9wYXRoLCAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEubWFya2VyKSB7XG4gICAgICAgIG1zZ0hlbHBlci5tc2codGhpcy5vcHRpb25zLnRleHQuY2xpY2tUb1JlbW92ZUFsbFNlbGVjdGVkRWRnZXMsIG51bGwsIGRhdGEubWFya2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKCFtLmlzTW9iaWxlQnJvd3NlcigpKSB7XG4gICAgdGhpcy5hZGRDb250cm9sKG1zZ0hlbHBlcik7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IEwuQ29udHJvbC5leHRlbmQoe1xuICBvcHRpb25zOiB7XG4gICAgcG9zaXRpb246ICdtc2djZW50ZXInLFxuICAgIGRlZmF1bHRNc2c6IG51bGxcbiAgfSxcbiAgX29uUmVzaXplRXZlbnQ6IG51bGwsXG4gIF90aXRsZUNvbnRhaW5lcjogbnVsbCxcblxuICBpbml0aWFsaXplIChvcHRpb25zKSB7XG4gICAgTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG4gIH0sXG5cbiAgb25BZGQgKG1hcCkge1xuICAgIHZhciBjb3JuZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1ib3R0b20nKTtcbiAgICB2YXIgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgJ2xlYWZsZXQtbXNnLWVkaXRvcicpO1xuXG4gICAgbWFwLl9jb250cm9sQ29ybmVyc1snbXNnY2VudGVyJ10gPSBjb3JuZXI7XG4gICAgbWFwLl9jb250cm9sQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvcm5lcik7XG5cbiAgICB0aGlzLl9zZXRDb250YWluZXIoY29udGFpbmVyLCBtYXApO1xuICAgIG1hcC5maXJlKCdtc2dIZWxwZXJBZGRlZCcsIHsgY29udHJvbDogdGhpcyB9KTtcblxuICAgIHRoaXMuX2NoYW5nZVBvcygpO1xuXG4gICAgdGhpcy5fYmluZEV2ZW50cyhtYXApO1xuXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgfSxcbiAgb25SZW1vdmUoKSB7XG4gICAgdGhpcy5fdW5CaW5kRXZlbnRzKCk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGVhZmxldC1tc2ctY29udGFpbmVyJykuZm9yRWFjaChjb250YWluZXIgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgIH0pO1xuICB9LFxuICBfY2hhbmdlUG9zICgpIHtcbiAgICBpZiAodGhpcy5fbWFwKSB7XG4gICAgICBsZXQgY29udHJvbENvcm5lciA9IHRoaXMuX21hcC5fY29udHJvbENvcm5lcnNbJ21zZ2NlbnRlciddO1xuICAgICAgaWYgKGNvbnRyb2xDb3JuZXIgJiYgY29udHJvbENvcm5lci5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgbGV0IGNoaWxkID0gY29udHJvbENvcm5lci5jaGlsZHJlblswXS5jaGlsZHJlblswXTtcblxuICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHdpZHRoID0gY2hpbGQuY2xpZW50V2lkdGg7XG4gICAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICAgIGNvbnRyb2xDb3JuZXIuc3R5bGUubGVmdCA9ICh0aGlzLl9tYXAuX2NvbnRhaW5lci5jbGllbnRXaWR0aCAtIHdpZHRoKSAvIDIgKyAncHgnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VuQmluZEV2ZW50cygpO1xuICAgIH1cbiAgfSxcbiAgX3VuQmluZEV2ZW50cygpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fb25SZXNpemVFdmVudCk7XG4gIH0sXG4gIF9iaW5kRXZlbnRzICgpIHtcbiAgICB0aGlzLl9vblJlc2l6ZUV2ZW50ID0gdGhpcy5fY2hhbmdlUG9zLmJpbmQodGhpcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uUmVzaXplRXZlbnQpO1xuICB9LFxuICBfc2V0Q29udGFpbmVyIChjb250YWluZXIpIHtcbiAgICB0aGlzLl90aXRsZUNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LW1zZy1jb250YWluZXIgdGl0bGUtaGlkZGVuJyk7XG4gICAgdGhpcy5fdGl0bGVQb3NDb250YWluZXIgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1tc2ctY29udGFpbmVyIHRpdGxlLWhpZGRlbicpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl90aXRsZUNvbnRhaW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl90aXRsZVBvc0NvbnRhaW5lcik7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRlZmF1bHRNc2cgIT09IG51bGwpIHtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl90aXRsZUNvbnRhaW5lciwgJ3RpdGxlLWhpZGRlbicpO1xuICAgICAgdGhpcy5fdGl0bGVDb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmRlZmF1bHRNc2c7XG4gICAgfVxuICB9LFxuICBnZXRPZmZzZXQgKGVsKSB7XG4gICAgdmFyIF94ID0gMDtcbiAgICB2YXIgX3kgPSAwO1xuICAgIGlmICghdGhpcy5fbWFwLmlzRnVsbHNjcmVlbiB8fCAhdGhpcy5fbWFwLmlzRnVsbHNjcmVlbigpKSB7XG4gICAgICB3aGlsZSAoZWwgJiYgIWlzTmFOKGVsLm9mZnNldExlZnQpICYmICFpc05hTihlbC5vZmZzZXRUb3ApKSB7XG4gICAgICAgIF94ICs9IGVsLm9mZnNldExlZnQ7XG4gICAgICAgIF95ICs9IGVsLm9mZnNldFRvcDtcbiAgICAgICAgZWwgPSBlbC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHk6IF95LCB4OiBfeCB9O1xuICB9LFxuICBtc2cgKHRleHQsIHR5cGUsIG9iamVjdCkge1xuICAgIGlmICghdGV4dCB8fCAhdGhpcy5fdGl0bGVQb3NDb250YWluZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2JqZWN0KSB7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fdGl0bGVQb3NDb250YWluZXIsICd0aXRsZS1oaWRkZW4nKTtcbiAgICAgIEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl90aXRsZVBvc0NvbnRhaW5lciwgJ3RpdGxlLWVycm9yJyk7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fdGl0bGVQb3NDb250YWluZXIsICd0aXRsZS1zdWNjZXNzJyk7XG5cbiAgICAgIHRoaXMuX3RpdGxlUG9zQ29udGFpbmVyLmlubmVySFRNTCA9IHRleHQ7XG5cbiAgICAgIHZhciBwb2ludDtcblxuICAgICAgdmFyIG9mZnNldCA9IHRoaXMuZ2V0T2Zmc2V0KHRoaXMuX21hcC5fY29udGFpbmVyKTtcblxuICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEwuUG9pbnQpIHtcbiAgICAgICAgcG9pbnQgPSBvYmplY3Q7XG4gICAgICAgIHBvaW50ID0gdGhpcy5fbWFwLmxheWVyUG9pbnRUb0NvbnRhaW5lclBvaW50KHBvaW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvaW50ID0gdGhpcy5fbWFwLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQob2JqZWN0LmdldExhdExuZygpKTtcbiAgICAgIH1cblxuICAgICAgcG9pbnQueCArPSBvZmZzZXQueDtcbiAgICAgIHBvaW50LnkgKz0gb2Zmc2V0Lnk7XG5cbiAgICAgIHRoaXMuX3RpdGxlUG9zQ29udGFpbmVyLnN0eWxlLnRvcCA9IChwb2ludC55IC0gOCkgKyBcInB4XCI7XG4gICAgICB0aGlzLl90aXRsZVBvc0NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gKHBvaW50LnggKyAxMCkgKyBcInB4XCI7XG5cbiAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgIEwuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl90aXRsZVBvc0NvbnRhaW5lciwgJ3RpdGxlLScgKyB0eXBlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3RpdGxlQ29udGFpbmVyLCAndGl0bGUtaGlkZGVuJyk7XG4gICAgICBMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fdGl0bGVDb250YWluZXIsICd0aXRsZS1lcnJvcicpO1xuICAgICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3RpdGxlQ29udGFpbmVyLCAndGl0bGUtc3VjY2VzcycpO1xuXG4gICAgICB0aGlzLl90aXRsZUNvbnRhaW5lci5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fdGl0bGVDb250YWluZXIsICd0aXRsZS0nICsgdHlwZSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jaGFuZ2VQb3MoKTtcbiAgICB9XG4gIH0sXG4gIGhpZGUgKCkge1xuICAgIGlmICh0aGlzLl90aXRsZUNvbnRhaW5lcikge1xuICAgICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3RpdGxlQ29udGFpbmVyLCAndGl0bGUtaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3RpdGxlUG9zQ29udGFpbmVyKSB7XG4gICAgICBMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fdGl0bGVQb3NDb250YWluZXIsICd0aXRsZS1oaWRkZW4nKTtcbiAgICB9XG4gIH0sXG4gIGdldEJ0bkNvbnRhaW5lciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5fY29udHJvbENvcm5lcnNbJ21zZ2NlbnRlciddO1xuICB9LFxuICBnZXRCdG5BdCAocG9zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QnRuQ29udGFpbmVyKCkuY2hpbGRbcG9zXTtcbiAgfSxcbiAgZGlzYWJsZUJ0biAocG9zKSB7XG4gICAgTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuZ2V0QnRuQXQocG9zKSwgJ2Rpc2FibGVkJyk7XG4gIH0sXG4gIGVuYWJsZUJ0biAocG9zKSB7XG4gICAgTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuZ2V0QnRuQXQocG9zKSwgJ2Rpc2FibGVkJyk7XG4gIH1cbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICB0aGlzLnNwbGljZSh0bywgMCwgdGhpcy5zcGxpY2UoZnJvbSwgMSlbMF0pO1xufTtcbkFycmF5LnByb3RvdHlwZS5fZWFjaCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICB2YXIgaSA9IDA7XG4gIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBmdW5jLmNhbGwodGhpcywgdGhpc1tpXSwgaSk7XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBBcnJheTtcbiIsImltcG9ydCBFVkVOVFMgZnJvbSAnLi4vZXZlbnQtbmFtZXMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBMLkZlYXR1cmVHcm91cC5leHRlbmQoe1xuICBpbml0aWFsaXplIChsYXRsbmdzLCBvcHRpb25zID0ge30pIHtcbiAgICBMLkZlYXR1cmVHcm91cC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGxhdGxuZ3MsIG9wdGlvbnMpO1xuXG5cbiAgICB0aGlzLm9uKCdsYXllcmFkZCcsIChlKSA9PiB7XG4gICAgICB2YXIgbVZpZXdTdHlsZSA9IHRoaXMuX21hcC5vcHRpb25zLnN0eWxlLnZpZXc7XG4gICAgICBlLnRhcmdldC5zZXRTdHlsZShPYmplY3QuYXNzaWduKHtcbiAgICAgICAgb3BhY2l0eTogMC43LFxuICAgICAgICBmaWxsT3BhY2l0eTogMC4zNSxcbiAgICAgICAgY29sb3I6ICcjMDBBQkZGJ1xuICAgICAgfSwgbVZpZXdTdHlsZSkpO1xuXG4gICAgICB0aGlzLl9tYXAuX21vdmVFUG9seWdvbk9uVG9wKCk7XG4gICAgfSk7XG4gIH0sXG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXJzKCkubGVuZ3RoID09PSAwO1xuICB9LFxuICBvbkFkZCAobWFwKSB7XG4gICAgTC5GZWF0dXJlR3JvdXAucHJvdG90eXBlLm9uQWRkLmNhbGwodGhpcywgbWFwKTtcblxuICAgIHRoaXMub24oJ21vdXNlbW92ZScsIChlKSA9PiB7XG4gICAgICBtYXAuZmlyZShFVkVOVFMudmlld19wb2x5Z29uX21vdXNlbW92ZSwgeyBsYXllclBvaW50OiBlLmxheWVyUG9pbnQgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5vbignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICBtYXAuZmlyZShFVkVOVFMudmlld19wb2x5Z29uX21vdXNlb3V0KTtcbiAgICB9KTtcbiAgfSxcbiAgb25DbGljayAoZSkge1xuICAgIEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKGUpO1xuXG4gICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgIGNvbnN0IHNlbGVjdGVkTUdyb3VwID0gbWFwLmdldFNlbGVjdGVkTUdyb3VwKCk7XG4gICAgY29uc3QgZU1hcmtlcnNHcm91cCA9IG1hcC5nZXRFTWFya2Vyc0dyb3VwKCk7XG4gICAgaWYgKChzZWxlY3RlZE1Hcm91cCAmJiBzZWxlY3RlZE1Hcm91cC5nZXRGaXJzdCgpICYmIHNlbGVjdGVkTUdyb3VwLmdldEZpcnN0KCkuX2hhc0ZpcnN0SWNvbigpICYmICFzZWxlY3RlZE1Hcm91cC5pc0VtcHR5KCkpKSB7XG4gICAgICBjb25zdCBlTWFya2Vyc0dyb3VwID0gbWFwLmdldEVNYXJrZXJzR3JvdXAoKTtcbiAgICAgIGVNYXJrZXJzR3JvdXAuc2V0KGUubGF0bG5nKTtcbiAgICAgIG1hcC5fY29udmVydFRvRWRpdChlTWFya2Vyc0dyb3VwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVzZXRcbiAgICAgIGlmIChtYXAuX2dldFNlbGVjdGVkVkxheWVyKCkpIHtcbiAgICAgICAgbWFwLl9zZXRFUG9seWdvbl9Ub19WR3JvdXAoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcC5fYWRkRVBvbHlnb25fVG9fVkdyb3VwKCk7XG4gICAgICB9XG4gICAgICBtYXAuY2xlYXIoKTtcbiAgICAgIG1hcC5tb2RlKCdkcmF3Jyk7XG5cbiAgICAgIG1hcC5faGlkZVNlbGVjdGVkVkxheWVyKGUubGF5ZXIpO1xuXG4gICAgICBlTWFya2Vyc0dyb3VwLnJlc3RvcmUoZS5sYXllcik7XG4gICAgICBtYXAuX2NvbnZlcnRUb0VkaXQoZU1hcmtlcnNHcm91cCk7XG5cbiAgICAgIGVNYXJrZXJzR3JvdXAuc2VsZWN0KCk7XG4gICAgfVxuICB9LFxuICBvblJlbW92ZSAobWFwKSB7XG4gICAgdGhpcy5vZmYoJ21vdXNlb3ZlcicpO1xuICAgIHRoaXMub2ZmKCdtb3VzZW91dCcpO1xuXG4gICAgbWFwLm9mZihFVkVOVFMudmlld19wb2x5Z29uX21vdXNlbW92ZSk7XG4gICAgbWFwLm9mZihFVkVOVFMudmlld19wb2x5Z29uX21vdXNlb3V0KTtcbiAgfVxufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBMLkZlYXR1cmVHcm91cC5leHRlbmQoe30pO1xuIiwiaW1wb3J0IEV4dGVuZGVkUG9seWdvbiBmcm9tICcuLi8uLi9leHRlbmRlZC9Qb2x5Z29uLmpzJztcblxuaW1wb3J0IEVWRU5UUyBmcm9tICcuLi8uLi9ldmVudC1uYW1lcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IEwuRWRpdFBsb3lnb24gPSBFeHRlbmRlZFBvbHlnb24uZXh0ZW5kKHtcbiAgX29sZEU6IHVuZGVmaW5lZCwgLy8gdG8gcmV1c2UgZXZlbnQgb2JqZWN0IGFmdGVyIFwiYmFkIGhvbGVcIiByZW1vdmluZyB0byBidWlsZCBuZXcgaG9sZVxuICBfazogMSwgLy8gdG8gZGVjcmVhc2UgJ2RpZmYnIHZhbHVlIHdoaWNoIGhlbHBzIGJ1aWxkIGEgaG9sZVxuICBpbml0aWFsaXplIChsYXRsbmdzID0gW1swLDBdXSwgb3B0aW9ucykge1xuICAgIEwuUG9seWdvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGxhdGxuZ3MsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSA9ICdsZWFmbGV0LWNsaWNrYWJsZSBlZGl0YWJsZS1wb2x5Z29uJztcbiAgfSxcbiAgX3VwZGF0ZU1hcmtlciAoZSkge1xuICAgIGxldCBtYXJrZXIgPSBlLm1hcmtlcjtcblxuICAgIGlmIChtYXJrZXIuX21Hcm91cC5faXNIb2xlKSB7XG4gICAgICBsZXQgbWFya2VycyA9IG1hcmtlci5fbUdyb3VwLl9tYXJrZXJzO1xuICAgICAgbWFya2VycyA9IG1hcmtlcnMuZmlsdGVyKChtYXJrZXIpID0+ICFtYXJrZXIuaXNNaWRkbGUoKSk7XG4gICAgICB0aGlzLl9sYXRsbmdzW21hcmtlci5fbUdyb3VwLnBvc2l0aW9uICsgMV0gPSBtYXJrZXJzLm1hcCgobWFya2VyKSA9PiBtYXJrZXIuZ2V0TGF0TG5nKCkpO1xuICAgIH1cblxuICAgIHRoaXMucmVkcmF3KCk7XG4gIH0sXG4gIF9yZW1vdmVIb2xlIChlKSB7XG4gICAgbGV0IGhvbGVQb3NpdGlvbiA9IGUubWFya2VyLl9tR3JvdXAucG9zaXRpb247XG4gICAgdGhpcy5fbGF0bG5ncy5zcGxpY2UoaG9sZVBvc2l0aW9uICsgMSwgMSk7XG5cbiAgICBjb25zdCBlaE1hcmtlcnNHcm91cCA9IHRoaXMuX21hcC5nZXRFSE1hcmtlcnNHcm91cCgpO1xuXG4gICAgZWhNYXJrZXJzR3JvdXAucmVtb3ZlTGF5ZXIoZS5tYXJrZXIuX21Hcm91cC5fbGVhZmxldF9pZCk7XG4gICAgZWhNYXJrZXJzR3JvdXAucmVwb3MoZS5tYXJrZXIuX21Hcm91cC5wb3NpdGlvbik7XG5cbiAgICB0aGlzLnJlZHJhdygpO1xuICB9LFxuICBvbkFkZCAobWFwKSB7XG4gICAgTC5Qb2x5bGluZS5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLCBtYXApO1xuXG4gICAgbWFwLm9mZihFVkVOVFMuYmVmb3JlX2FkZF9tYXJrZXIpO1xuICAgIG1hcC5vbihFVkVOVFMuYmVmb3JlX2FkZF9tYXJrZXIsIChlKSA9PiB0aGlzLl91cGRhdGVNYXJrZXIoZSkpO1xuICAgIG1hcC5vZmYoRVZFTlRTLmRyYWdfbWFya2VyKTtcbiAgICBtYXAub24oRVZFTlRTLmRyYWdfbWFya2VyLCAoZSkgPT4gdGhpcy5fdXBkYXRlTWFya2VyKGUpKTtcbiAgICBtYXAub2ZmKEVWRU5UUy5kZWxldGVfbWFya2VyKTtcbiAgICBtYXAub24oRVZFTlRTLmRlbGV0ZV9tYXJrZXIsIChlKSA9PiB0aGlzLl91cGRhdGVNYXJrZXIoZSkpO1xuICAgIG1hcC5vZmYoRVZFTlRTLmRlbGV0ZV9ob2xlKTtcbiAgICBtYXAub24oRVZFTlRTLmRlbGV0ZV9ob2xlLCAoZSkgPT4gdGhpcy5fcmVtb3ZlSG9sZShlKSk7XG5cbiAgICB0aGlzLm9uKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xuICAgICAgbWFwLmZpcmUoRVZFTlRTLmVkaXRfcG9seWdvbl9tb3VzZW1vdmUsIHsgbGF5ZXJQb2ludDogZS5sYXllclBvaW50IH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignbW91c2VvdXQnLCAoKSA9PiBtYXAuZmlyZShFVkVOVFMuZWRpdF9wb2x5Z29uX21vdXNlb3V0KSk7XG4gIH0sXG4gIG9uUmVtb3ZlIChtYXApIHtcbiAgICB0aGlzLm9mZignbW91c2Vtb3ZlJyk7XG4gICAgdGhpcy5vZmYoJ21vdXNlb3V0Jyk7XG5cbiAgICBtYXAub2ZmKEVWRU5UUy5lZGl0X3BvbHlnb25fbW91c2VvdmVyKTtcbiAgICBtYXAub2ZmKEVWRU5UUy5lZGl0X3BvbHlnb25fbW91c2VvdXQpO1xuXG4gICAgTC5Qb2x5bGluZS5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBtYXApO1xuICB9LFxuICBhZGRIb2xlIChob2xlKSB7XG4gICAgdGhpcy5fbGF0bG5ncy5wdXNoKGhvbGUpO1xuXG4gICAgdGhpcy5yZWRyYXcoKTtcbiAgfSxcbiAgaGFzSG9sZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xhdGxuZ3MubGVuZ3RoID4gMTtcbiAgfVxufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBMLlBvbHlnb24uZXh0ZW5kKHtcbiAgaXNFbXB0eSAoKSB7XG4gICAgY29uc3QgbGF0TG5ncyA9IHRoaXMuZ2V0TGF0TG5ncygpO1xuICAgIHJldHVybiBsYXRMbmdzID09PSBudWxsIHx8XG4gICAgICBsYXRMbmdzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIChsYXRMbmdzICYmIGxhdExuZ3MubGVuZ3RoID09PSAwKSB8fFxuICAgICAgbGF0TG5ncy50b1N0cmluZygpID09PSAnTGF0TG5nKDAsIDApLExhdExuZygwLCAwKScgfHxcbiAgICAgIGxhdExuZ3MudG9TdHJpbmcoKSA9PT0gJ0xhdExuZygwLCAwKSc7XG4gIH0sXG4gIF9pc0hpZGRlbkRhdGE6IHRydWUsXG5cbiAgc2V0TGF0TG5ncyAobGF0bG5ncykge1xuICAgIGlmICh0aGlzLl9pc0hpZGRlbkRhdGEpIHtcbiAgICAgIHRoaXMuX2lzSGlkZGVuRGF0YSA9IHRydWU7XG4gICAgfVxuXG4gICAgTC5Qb2x5Z29uLnByb3RvdHlwZS5zZXRMYXRMbmdzLmNhbGwodGhpcywgbGF0bG5ncyk7XG4gIH0sXG5cbiAgYWRkTGF0TG5nIChsYXRsbmcpIHtcbiAgICBpZiAodGhpcy5faXNIaWRkZW5EYXRhKSB7XG4gICAgICB0aGlzLl9pc0hpZGRlbkRhdGEgPSB0cnVlO1xuICAgIH1cblxuICAgIEwuUG9seWdvbi5wcm90b3R5cGUuYWRkTGF0TG5nLmNhbGwodGhpcywgbGF0bG5nKTtcbiAgfSxcblxuICBnZXRIb2xlcyAoKSB7XG4gICAgY29uc3QgW2xhdGxuZ3MsIC4uLmhvbGVzXSA9IHRoaXMuZ2V0TGF0TG5ncygpO1xuXG4gICAgcmV0dXJuIGhvbGVzO1xuICB9LFxuXG4gIGNsZWFySG9sZXMgKCkge1xuICAgIHRoaXMuX2xhdGxuZ3MgPSB0aGlzLl9sYXRsbmdzWzBdID8gW3RoaXMuX2xhdGxuZ3NbMF1dIDogW107XG4gICAgdGhpcy5yZWRyYXcoKTtcbiAgfSxcbiAgY2xlYXIgKCkge1xuICAgIHRoaXMuY2xlYXJIb2xlcygpO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fbGF0bG5ncykgJiYgdGhpcy5fbGF0bG5nc1swXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9pc0hpZGRlbkRhdGEgPSB0cnVlO1xuICAgICAgdGhpcy5zZXRMYXRMbmdzKFtbMCwwXSxbMCwwXV0pO1xuICAgIH1cbiAgfVxufSlcbiIsImltcG9ydCBvcHRzIGZyb20gJy4uLy4uL29wdGlvbnMuanMnO1xuXG5sZXQgc3R5bGUgPSBPYmplY3QuYXNzaWduKG9wdHMuc3R5bGUuZHJhd0xpbmUsIHtcbiAgY2xhc3NOYW1lOiAnZGFzaC1saW5lJ1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEwuUG9seWxpbmUuZXh0ZW5kKHtcbiAgb3B0aW9uczogT2JqZWN0LmFzc2lnbihvcHRzLnN0eWxlLmRyYXdMaW5lLCB7XG4gICAgY2xhc3NOYW1lOiAnZGFzaC1saW5lJ1xuICB9KSxcbiAgX2xhdGxuZ1RvTW92ZTogdW5kZWZpbmVkLFxuICBfaXNIaWRkZW5MaW5lOiB0cnVlLFxuXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uIChsYXRsbmdzID0gW1swLDBdXSwgb3B0aW9ucykge1xuICAgIGlmIChsYXRsbmdzLnRvU3RyaW5nKCkgPT09ICcwLDAnKSB7XG4gICAgICB0aGlzLl9pc0hpZGRlbkxpbmUgPSB0cnVlO1xuICAgICAgdGhpcy5zZXRTdHlsZSh7IG9wYWNpdHk6IDAgfSk7XG4gICAgfVxuICAgIEwuUG9seWxpbmUucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBsYXRsbmdzLCBvcHRpb25zKTtcblxuICAgIHJldHVybiB0aGlzXG4gIH0sXG4gIGFkZExhdExuZyAobGF0bG5nLCBvcHRpb25zID0gc3R5bGUpIHtcbiAgICBpZiAodGhpcy5faXNIaWRkZW5MaW5lKSB7XG4gICAgICB0aGlzLl9pc0hpZGRlbkxpbmUgPSBmYWxzZTtcblxuICAgICAgdGhpcy5zZXRMYXRMbmdzKFtsYXRsbmddKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0eWxlKG9wdGlvbnMpO1xuXG4gICAgaWYgKHRoaXMuX2xhdGxuZ1RvTW92ZSkge1xuICAgICAgdGhpcy5fbGF0bG5nVG9Nb3ZlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9sYXRsbmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuX2xhdGxuZ3Muc3BsaWNlKC0xKTtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXRsbmdzLnB1c2goTC5sYXRMbmcobGF0bG5nKSk7XG5cbiAgICByZXR1cm4gdGhpcy5yZWRyYXcoKTtcbiAgfSxcbiAgdXBkYXRlIChwb3MpIHtcblxuICAgIGlmICghdGhpcy5fbGF0bG5nVG9Nb3ZlICYmIHRoaXMuX2xhdGxuZ3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9sYXRsbmdUb01vdmUgPSBMLmxhdExuZyhwb3MpO1xuICAgICAgdGhpcy5fbGF0bG5ncy5wdXNoKHRoaXMuX2xhdGxuZ1RvTW92ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9sYXRsbmdUb01vdmUpIHtcbiAgICAgIHRoaXMuX2xhdGxuZ1RvTW92ZS5sYXQgPSBwb3MubGF0O1xuICAgICAgdGhpcy5fbGF0bG5nVG9Nb3ZlLmxuZyA9IHBvcy5sbmc7XG5cbiAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBfYWRkTGluZSAobGluZSwgZ3JvdXAsIGlzTGFzdE1hcmtlcikge1xuICAgIGlmICghaXNMYXN0TWFya2VyKSB7XG4gICAgICBsaW5lLmFkZFRvKGdyb3VwKTtcbiAgICB9XG4gIH0sXG4gIGNsZWFyICgpIHtcbiAgICB0aGlzLnNldExhdExuZ3MoW10pO1xuICB9XG59KTtcbiIsImltcG9ydCBNYXJrZXJHcm91cCBmcm9tICcuLi8uLi9tb2Rlcy9lZGl0L21hcmtlci1ncm91cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IEwuRmVhdHVyZUdyb3VwLmV4dGVuZCh7XG4gIF9zZWxlY3RlZDogZmFsc2UsXG4gIF9sYXN0SG9sZTogdW5kZWZpbmVkLFxuICBfbGFzdEhvbGVUb0RyYXc6IHVuZGVmaW5lZCxcbiAgYWRkSG9sZUdyb3VwICgpIHtcbiAgICB0aGlzLl9sYXN0SG9sZSA9IG5ldyBNYXJrZXJHcm91cCgpO1xuICAgIHRoaXMuX2xhc3RIb2xlLl9pc0hvbGUgPSB0cnVlO1xuICAgIHRoaXMuX2xhc3RIb2xlLmFkZFRvKHRoaXMpO1xuXG4gICAgdGhpcy5fbGFzdEhvbGUucG9zaXRpb24gPSB0aGlzLmdldExlbmd0aCgpIC0gMTtcblxuICAgIHRoaXMuX2xhc3RIb2xlVG9EcmF3ID0gdGhpcy5fbGFzdEhvbGU7XG5cbiAgICByZXR1cm4gdGhpcy5fbGFzdEhvbGU7XG4gIH0sXG4gIGdldExlbmd0aCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXJzKCkubGVuZ3RoO1xuICB9LFxuICByZXNldExhc3RIb2xlICgpIHtcbiAgICB0aGlzLl9sYXN0SG9sZSA9IHVuZGVmaW5lZDtcbiAgfSxcbiAgc2V0TGFzdEhvbGUgKGxheWVyKSB7XG4gICAgdGhpcy5fbGFzdEhvbGUgPSBsYXllcjtcbiAgfSxcbiAgZ2V0TGFzdEhvbGUgKCkge1xuICAgIHJldHVybiB0aGlzLl9sYXN0SG9sZTtcbiAgfSxcbiAgcmVtb3ZlICgpIHtcbiAgICB0aGlzLmVhY2hMYXllcigoaG9sZSkgPT4ge1xuICAgICAgd2hpbGUgKGhvbGUuZ2V0TGF5ZXJzKCkubGVuZ3RoKSB7XG4gICAgICAgIGhvbGUucmVtb3ZlTWFya2VyQXQoMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHJlcG9zIChwb3NpdGlvbikge1xuICAgIHRoaXMuZWFjaExheWVyKChsYXllcikgPT4ge1xuICAgICAgaWYgKGxheWVyLnBvc2l0aW9uID49IHBvc2l0aW9uKSB7XG4gICAgICAgIGxheWVyLnBvc2l0aW9uIC09IDE7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHJlc2V0U2VsZWN0aW9uICgpIHtcbiAgICB0aGlzLmVhY2hMYXllcigobGF5ZXIpID0+IHtcbiAgICAgIGxheWVyLnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2VsZWN0ZWQgPSBmYWxzZTtcbiAgfSxcblxuICBjbGVhciAoKSB7XG4gICAgdGhpcy5lYWNoTGF5ZXIobGF5ZXIgPT4ge1xuICAgICAgaWYgKGxheWVyLl9tYXJrZXJzKSB7XG4gICAgICAgIGxheWVyLmNsZWFyKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgIH0pXG4gIH1cbn0pO1xuIiwiaW1wb3J0IE1hcCBmcm9tICcuL21hcC5qcyc7XG5cbndpbmRvdy5MZWFmbGV0RWRpdG9yID0gTWFwO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==